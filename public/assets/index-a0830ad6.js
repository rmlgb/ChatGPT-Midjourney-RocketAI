import{b6 as e,b7 as a,ba as l,bX as t,b9 as n,d as s,bc as r,bd as o,dj as i,c5 as u,v as c,dk as d,bi as v,bl as p,r as g,a0 as f,B as h,cl as m,bO as b,bF as y,bH as x,bI as w,bJ as C,bG as k,aD as _,bQ as z,dl as B,dm as A,D as L,K as S,o as I,c as N,g as T,w as U,m as R,t as E,f as D,h as j,a6 as M,b as F,L as H,A as $,dn as P,e as O,y as q,b1 as V,N as K,av as X,l as Z,b0 as W,dp as J,F as G,dq as Q,dr as Y,ds as ee,dt as ae,du as le,dv as te,P as ne,dw as se,S as re,cB as oe,dx as ie,dy as ue,dz as ce,dA as de,u as ve,x as pe,Q as ge,j as fe,M as he,al as me,dB as be,G as ye,H as xe,p as we,q as Ce,_ as ke}from"./index-62750275.js";const _e=e("alert","\n line-height: var(--n-line-height);\n border-radius: var(--n-border-radius);\n position: relative;\n transition: background-color .3s var(--n-bezier);\n background-color: var(--n-color);\n text-align: start;\n word-break: break-word;\n",[a("border","\n border-radius: inherit;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n transition: border-color .3s var(--n-bezier);\n border: var(--n-border);\n pointer-events: none;\n "),l("closable",[e("alert-body",[a("title","\n padding-right: 24px;\n ")])]),a("icon",{color:"var(--n-icon-color)"}),e("alert-body",{padding:"var(--n-padding)"},[a("title",{color:"var(--n-title-text-color)"}),a("content",{color:"var(--n-content-text-color)"})]),t({originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.9)"}}),a("icon","\n position: absolute;\n left: 0;\n top: 0;\n align-items: center;\n justify-content: center;\n display: flex;\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n margin: var(--n-icon-margin);\n "),a("close","\n transition:\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n position: absolute;\n right: 0;\n top: 0;\n margin: var(--n-close-margin);\n "),l("show-icon",[e("alert-body",{paddingLeft:"calc(var(--n-icon-margin-left) + var(--n-icon-size) + var(--n-icon-margin-right))"})]),l("right-adjust",[e("alert-body",{paddingRight:"calc(var(--n-close-size) + var(--n-padding) + 2px)"})]),e("alert-body","\n border-radius: var(--n-border-radius);\n transition: border-color .3s var(--n-bezier);\n ",[a("title","\n transition: color .3s var(--n-bezier);\n font-size: 16px;\n line-height: 19px;\n font-weight: var(--n-title-font-weight);\n ",[n("& +",[a("content",{marginTop:"9px"})])]),a("content",{transition:"color .3s var(--n-bezier)",fontSize:"var(--n-font-size)"})]),a("icon",{transition:"color .3s var(--n-bezier)"})]),ze=s({name:"Alert",inheritAttrs:!1,props:Object.assign(Object.assign({},o.props),{title:String,showIcon:{type:Boolean,default:!0},type:{type:String,default:"default"},bordered:{type:Boolean,default:!0},closable:Boolean,onClose:Function,onAfterLeave:Function,onAfterHide:Function}),setup(e){const{mergedClsPrefixRef:a,mergedBorderedRef:l,inlineThemeDisabled:t,mergedRtlRef:n}=r(e),s=o("Alert","-alert",_e,i,e,a),f=u("Alert",n,a),h=c((()=>{const{common:{cubicBezierEaseInOut:a},self:l}=s.value,{fontSize:t,borderRadius:n,titleFontWeight:r,lineHeight:o,iconSize:i,iconMargin:u,iconMarginRtl:c,closeIconSize:p,closeBorderRadius:g,closeSize:f,closeMargin:h,closeMarginRtl:m,padding:b}=l,{type:y}=e,{left:x,right:w}=d(u);return{"--n-bezier":a,"--n-color":l[v("color",y)],"--n-close-icon-size":p,"--n-close-border-radius":g,"--n-close-color-hover":l[v("closeColorHover",y)],"--n-close-color-pressed":l[v("closeColorPressed",y)],"--n-close-icon-color":l[v("closeIconColor",y)],"--n-close-icon-color-hover":l[v("closeIconColorHover",y)],"--n-close-icon-color-pressed":l[v("closeIconColorPressed",y)],"--n-icon-color":l[v("iconColor",y)],"--n-border":l[v("border",y)],"--n-title-text-color":l[v("titleTextColor",y)],"--n-content-text-color":l[v("contentTextColor",y)],"--n-line-height":o,"--n-border-radius":n,"--n-font-size":t,"--n-title-font-weight":r,"--n-icon-size":i,"--n-icon-margin":u,"--n-icon-margin-rtl":c,"--n-close-size":f,"--n-close-margin":h,"--n-close-margin-rtl":m,"--n-padding":b,"--n-icon-margin-left":x,"--n-icon-margin-right":w}})),m=t?p("alert",c((()=>e.type[0])),h,e):void 0,b=g(!0);return{rtlEnabled:f,mergedClsPrefix:a,mergedBordered:l,visible:b,handleCloseClick:()=>{var a;Promise.resolve(null===(a=e.onClose)||void 0===a?void 0:a.call(e)).then((e=>{!1!==e&&(b.value=!1)}))},handleAfterLeave:()=>{(()=>{const{onAfterLeave:a,onAfterHide:l}=e;a&&a(),l&&l()})()},mergedTheme:s,cssVars:t?void 0:h,themeClass:null==m?void 0:m.themeClass,onRender:null==m?void 0:m.onRender}},render(){var e;return null===(e=this.onRender)||void 0===e||e.call(this),f(z,{onAfterLeave:this.handleAfterLeave},{default:()=>{const{mergedClsPrefix:e,$slots:a}=this,l={class:[`${e}-alert`,this.themeClass,this.closable&&`${e}-alert--closable`,this.showIcon&&`${e}-alert--show-icon`,!this.title&&this.closable&&`${e}-alert--right-adjust`,this.rtlEnabled&&`${e}-alert--rtl`],style:this.cssVars,role:"alert"};return this.visible?f("div",Object.assign({},h(this.$attrs,l)),this.closable&&f(m,{clsPrefix:e,class:`${e}-alert__close`,onClick:this.handleCloseClick}),this.bordered&&f("div",{class:`${e}-alert__border`}),this.showIcon&&f("div",{class:`${e}-alert__icon`,"aria-hidden":"true"},b(a.icon,(()=>[f(y,{clsPrefix:e},{default:()=>{switch(this.type){case"success":return f(k,null);case"info":return f(C,null);case"warning":return f(w,null);case"error":return f(x,null);default:return null}}})]))),f("div",{class:[`${e}-alert-body`,this.mergedBordered&&`${e}-alert-body--bordered`]},_(a.header,(a=>{const l=a||this.title;return l?f("div",{class:`${e}-alert-body__title`},l):null})),a.default&&f("div",{class:`${e}-alert-body__content`},a))):null}})}}),Be=f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},f("circle",{fill:"#FFCB4C",cx:"18",cy:"17.018",r:"17"}),f("path",{fill:"#65471B",d:"M14.524 21.036c-.145-.116-.258-.274-.312-.464-.134-.46.13-.918.59-1.021 4.528-1.021 7.577 1.363 7.706 1.465.384.306.459.845.173 1.205-.286.358-.828.401-1.211.097-.11-.084-2.523-1.923-6.182-1.098-.274.061-.554-.016-.764-.184z"}),f("ellipse",{fill:"#65471B",cx:"13.119",cy:"11.174",rx:"2.125",ry:"2.656"}),f("ellipse",{fill:"#65471B",cx:"24.375",cy:"12.236",rx:"2.125",ry:"2.656"}),f("path",{fill:"#F19020",d:"M17.276 35.149s1.265-.411 1.429-1.352c.173-.972-.624-1.167-.624-1.167s1.041-.208 1.172-1.376c.123-1.101-.861-1.363-.861-1.363s.97-.4 1.016-1.539c.038-.959-.995-1.428-.995-1.428s5.038-1.221 5.556-1.341c.516-.12 1.32-.615 1.069-1.694-.249-1.08-1.204-1.118-1.697-1.003-.494.115-6.744 1.566-8.9 2.068l-1.439.334c-.54.127-.785-.11-.404-.512.508-.536.833-1.129.946-2.113.119-1.035-.232-2.313-.433-2.809-.374-.921-1.005-1.649-1.734-1.899-1.137-.39-1.945.321-1.542 1.561.604 1.854.208 3.375-.833 4.293-2.449 2.157-3.588 3.695-2.83 6.973.828 3.575 4.377 5.876 7.952 5.048l3.152-.681z"}),f("path",{fill:"#65471B",d:"M9.296 6.351c-.164-.088-.303-.224-.391-.399-.216-.428-.04-.927.393-1.112 4.266-1.831 7.699-.043 7.843.034.433.231.608.747.391 1.154-.216.405-.74.546-1.173.318-.123-.063-2.832-1.432-6.278.047-.257.109-.547.085-.785-.042zm12.135 3.75c-.156-.098-.286-.243-.362-.424-.187-.442.023-.927.468-1.084 4.381-1.536 7.685.48 7.823.567.415.26.555.787.312 1.178-.242.39-.776.495-1.191.238-.12-.072-2.727-1.621-6.267-.379-.266.091-.553.046-.783-.096z"})),Ae=f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},f("path",{fill:"#FFCC4D",d:"M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"}),f("ellipse",{fill:"#664500",cx:"18",cy:"27",rx:"5",ry:"6"}),f("path",{fill:"#664500",d:"M5.999 11c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4C8.462 5.05 12.816 5 13 5c.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.155.002-3.568.086-6.204 3.6-.196.262-.497.4-.801.4zm24.002 0c-.305 0-.604-.138-.801-.4-2.64-3.521-6.061-3.598-6.206-3.6-.55-.006-.994-.456-.991-1.005C22.006 5.444 22.45 5 23 5c.184 0 4.537.05 7.8 4.4.332.442.242 1.069-.2 1.4-.18.135-.39.2-.599.2zm-16.087 4.5l1.793-1.793c.391-.391.391-1.023 0-1.414s-1.023-.391-1.414 0L12.5 14.086l-1.793-1.793c-.391-.391-1.023-.391-1.414 0s-.391 1.023 0 1.414l1.793 1.793-1.793 1.793c-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293s.512-.098.707-.293l1.793-1.793 1.793 1.793c.195.195.451.293.707.293s.512-.098.707-.293c.391-.391.391-1.023 0-1.414L13.914 15.5zm11 0l1.793-1.793c.391-.391.391-1.023 0-1.414s-1.023-.391-1.414 0L23.5 14.086l-1.793-1.793c-.391-.391-1.023-.391-1.414 0s-.391 1.023 0 1.414l1.793 1.793-1.793 1.793c-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293s.512-.098.707-.293l1.793-1.793 1.793 1.793c.195.195.451.293.707.293s.512-.098.707-.293c.391-.391.391-1.023 0-1.414L24.914 15.5z"})),Le=f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},f("ellipse",{fill:"#292F33",cx:"18",cy:"26",rx:"18",ry:"10"}),f("ellipse",{fill:"#66757F",cx:"18",cy:"24",rx:"18",ry:"10"}),f("path",{fill:"#E1E8ED",d:"M18 31C3.042 31 1 16 1 12h34c0 2-1.958 19-17 19z"}),f("path",{fill:"#77B255",d:"M35 12.056c0 5.216-7.611 9.444-17 9.444S1 17.271 1 12.056C1 6.84 8.611 3.611 18 3.611s17 3.229 17 8.445z"}),f("ellipse",{fill:"#A6D388",cx:"18",cy:"13",rx:"15",ry:"7"}),f("path",{d:"M21 17c-.256 0-.512-.098-.707-.293-2.337-2.337-2.376-4.885-.125-8.262.739-1.109.9-2.246.478-3.377-.461-1.236-1.438-1.996-1.731-2.077-.553 0-.958-.443-.958-.996 0-.552.491-.995 1.043-.995.997 0 2.395 1.153 3.183 2.625 1.034 1.933.91 4.039-.351 5.929-1.961 2.942-1.531 4.332-.125 5.738.391.391.391 1.023 0 1.414-.195.196-.451.294-.707.294zm-6-2c-.256 0-.512-.098-.707-.293-2.337-2.337-2.376-4.885-.125-8.262.727-1.091.893-2.083.494-2.947-.444-.961-1.431-1.469-1.684-1.499-.552 0-.989-.447-.989-1 0-.552.458-1 1.011-1 .997 0 2.585.974 3.36 2.423.481.899 1.052 2.761-.528 5.131-1.961 2.942-1.531 4.332-.125 5.738.391.391.391 1.023 0 1.414-.195.197-.451.295-.707.295z",fill:"#5C913B"})),Se=f("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 36 36"},f("path",{fill:"#EF9645",d:"M15.5 2.965c1.381 0 2.5 1.119 2.5 2.5v.005L20.5.465c1.381 0 2.5 1.119 2.5 2.5V4.25l2.5-1.535c1.381 0 2.5 1.119 2.5 2.5V8.75L29 18H15.458L15.5 2.965z"}),f("path",{fill:"#FFDC5D",d:"M4.625 16.219c1.381-.611 3.354.208 4.75 2.188.917 1.3 1.187 3.151 2.391 3.344.46.073 1.234-.313 1.234-1.397V4.5s0-2 2-2 2 2 2 2v11.633c0-.029 1-.064 1-.082V2s0-2 2-2 2 2 2 2v14.053c0 .017 1 .041 1 .069V4.25s0-2 2-2 2 2 2 2v12.638c0 .118 1 .251 1 .398V8.75s0-2 2-2 2 2 2 2V24c0 6.627-5.373 12-12 12-4.775 0-8.06-2.598-9.896-5.292C8.547 28.423 8.096 26.051 8 25.334c0 0-.123-1.479-1.156-2.865-1.469-1.969-2.5-3.156-3.125-3.866-.317-.359-.625-1.707.906-2.384z"})),Ie=e("result","\n color: var(--n-text-color);\n line-height: var(--n-line-height);\n font-size: var(--n-font-size);\n transition:\n color .3s var(--n-bezier);\n",[e("result-icon","\n display: flex;\n justify-content: center;\n transition: color .3s var(--n-bezier);\n ",[a("status-image","\n font-size: var(--n-icon-size);\n width: 1em;\n height: 1em;\n "),e("base-icon","\n color: var(--n-icon-color);\n font-size: var(--n-icon-size);\n ")]),e("result-content",{marginTop:"24px"}),e("result-footer","\n margin-top: 24px;\n text-align: center;\n "),e("result-header",[a("title","\n margin-top: 16px;\n font-weight: var(--n-title-font-weight);\n transition: color .3s var(--n-bezier);\n text-align: center;\n color: var(--n-title-text-color);\n font-size: var(--n-title-font-size);\n "),a("description","\n margin-top: 4px;\n text-align: center;\n font-size: var(--n-font-size);\n ")])]),Ne={403:()=>Se,404:()=>Be,418:()=>Le,500:()=>Ae,info:()=>f(C,null),success:()=>f(k,null),warning:()=>f(w,null),error:()=>f(x,null)},Te=s({name:"Result",props:Object.assign(Object.assign({},o.props),{size:{type:String,default:"medium"},status:{type:String,default:"info"},title:String,description:String}),setup(e){const{mergedClsPrefixRef:a,inlineThemeDisabled:l}=r(e),t=o("Result","-result",Ie,B,e,a),n=c((()=>{const{size:a,status:l}=e,{common:{cubicBezierEaseInOut:n},self:{textColor:s,lineHeight:r,titleTextColor:o,titleFontWeight:i,[v("iconColor",l)]:u,[v("fontSize",a)]:c,[v("titleFontSize",a)]:d,[v("iconSize",a)]:p}}=t.value;return{"--n-bezier":n,"--n-font-size":c,"--n-icon-size":p,"--n-line-height":r,"--n-text-color":s,"--n-title-font-size":d,"--n-title-font-weight":i,"--n-title-text-color":o,"--n-icon-color":u||""}})),s=l?p("result",c((()=>{const{size:a,status:l}=e;let t="";return a&&(t+=a[0]),l&&(t+=l[0]),t})),n,e):void 0;return{mergedClsPrefix:a,cssVars:l?void 0:n,themeClass:null==s?void 0:s.themeClass,onRender:null==s?void 0:s.onRender}},render(){var e;const{status:a,$slots:l,mergedClsPrefix:t,onRender:n}=this;return null==n||n(),f("div",{class:[`${t}-result`,this.themeClass],style:this.cssVars},f("div",{class:`${t}-result-icon`},(null===(e=l.icon)||void 0===e?void 0:e.call(l))||f(y,{clsPrefix:t},{default:()=>Ne[a]()})),f("div",{class:`${t}-result-header`},this.title?f("div",{class:`${t}-result-header__title`},this.title):null,this.description?f("div",{class:`${t}-result-header__description`},this.description):null),l.default&&f("div",{class:`${t}-result-content`},l),l.footer&&f("div",{class:`${t}-result-footer`},l.footer()))}}),Ue=""+new URL("black-bg-e80c0a8f.png",import.meta.url).href,Re=""+new URL("bg-39006c02.png",import.meta.url).href,Ee=""+new URL("wx-btn-303d30b2.png",import.meta.url).href,De=""+new URL("codeTypepng-59a96b95.png",import.meta.url).href,je=s({name:"Motion",props:{delay:{type:Number,default:50},y:{type:Number,default:50},opacity:{type:Number,default:.5},scale:{type:Number,default:1},duration:{type:Number,default:350}},setup:(e,{slots:a})=>()=>{const l=A("motion");return L(f("div",{},{default:()=>{var e;return[null==(e=a.default)?void 0:e.call(a)]}}),[[l,{initial:{opacity:e.opacity,y:e.y,scale:e.scale},enter:{opacity:1,y:0,scale:1,transition:{delay:e.delay,duration:e.duration}}}]])}}),Me={key:0,class:"w-full"},Fe=s({__name:"send",setup(e){const a=S(),l=c((()=>Number(a.globalConfig.registerSendStatus))),t=c((()=>Number(a.globalConfig.registerSendModel3Count))),n=c((()=>Number(a.globalConfig.registerSendModel4Count))),s=c((()=>Number(a.globalConfig.registerSendDrawMjCount))),r=c((()=>`首次认证：赠送${t.value}积分基础模型余额 | ${n.value}积分高级模型余额 | ${s.value}积分绘画余额`));return(e,a)=>l.value?(I(),N("div",Me,[T(D(ze),{type:"error","show-icon":!1,class:"mt-5"},{default:U((()=>[R(E(r.value),1)])),_:1})])):j("",!0)}}),He={class:"pt-[10px]"},$e={class:"flex items-center w-full space-x-4"},Pe={key:0},Oe=["innerHTML"],qe={class:"m-auto pt-[5px]"},Ve=O("div",{class:"flex items-center gap-2 justify-center align-center"},[O("div",null,"立即登录")],-1),Ke={key:0,class:"flex justify-center cursor-pointer"},Xe=s({__name:"Email",emits:["changeLoginType"],setup(e,{emit:a}){const l=M(),t=g(null),n=F(),s=g(!0),r=g(!1),o=S(),i=g(""),u=c((()=>l.theme)),d=c((()=>o.globalConfig.isVerifyEmail?Number(o.globalConfig.isVerifyEmail):1)),v=c((()=>d.value?"发送激活账户邮件":"立即注册")),p=c((()=>"dark"===u.value?"#363f4f":"#fff")),f=g({username:"",password:"",email:"",invitedBy:"",captchaCode:"",captchaId:null}),h=g({username:"",password:"",email:"",invitedBy:""}),m={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:30,message:"用户名长度应为 2 到 30 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:30,message:"密码长度应为 6 到 30 个字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],captchaCode:[{required:!0,message:"请填写验证码",trigger:"blur"}]},b=c((()=>s.value?"还没账号? 去注册！":"已有账户去登录！"));c((()=>1===Number(o.globalConfig.wechatRegisterStatus))),c((()=>1===Number(o.globalConfig.phoneLoginStatus)));const y=c((()=>1===Number(o.globalConfig.emailRegisterStatus))),x=H();function w(){var e;if(s.value&&!k.value)return n.error("请先同意用户协议");null==(e=t.value)||e.validate((async e=>{if(!e)try{r.value=!0;const e=s.value?Q:Y,a=s.value?{username:h.value.username,password:h.value.password}:f.value,l=await e(a);r.value=!1,C();const{success:t,message:i}=l;if(!t)return n.error(i);if(s.value)n.success("账户登录成功、开始体验吧！"),o.setToken(l.data),o.getUserInfo(),o.setLoginDialog(!1),P.remove("invitedBy"),x.push({path:"/"});else{const e=Number(d)?"您的账号激活邮件已经发送,请前往邮箱激活您的账户！":"您的账号已成功注册、请登录使用吧！";n.success(e);const{email:a,password:l}=f.value;h.value.username=a,h.value.password=l,s.value=!s.value,d.value||async function(){const e={username:h.value.username,password:h.value.password},a=await Q(e),{success:l,message:t}=a;if(!l)return n.error(t);n.success("账户登录成功、开始体验吧！"),o.setToken(a.data),o.getUserInfo(),o.setLoginDialog(!1),P.remove("invitedBy")}()}}catch(a){C(),r.value=!1}}))}async function C(){const e=await ee({color:p.value});i.value=e.data.svgCode,f.value.captchaId=e.data.code}$((()=>{const e=P.get("invitedBy");e&&(f.value.invitedBy=e),C()}));const k=g(!1);return(e,a)=>(I(),N(G,null,[O("div",He,[s.value?j("",!0):(I(),q(D(W),{key:0,ref_key:"formRef",ref:t,model:f.value,rules:m,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",style:{maxWidth:"640px"}},{default:U((()=>[T(D(je),{delay:50},{default:U((()=>[T(D(V),{path:"username"},{default:U((()=>[T(D(K),{value:f.value.username,"onUpdate:value":a[0]||(a[0]=e=>f.value.username=e),placeholder:"请输入您的用户名昵称"},null,8,["value"])])),_:1})])),_:1}),T(D(je),{delay:120},{default:U((()=>[T(D(V),{path:"password"},{default:U((()=>[T(D(K),{value:f.value.password,"onUpdate:value":a[1]||(a[1]=e=>f.value.password=e),placeholder:"请输入您的账户密码",type:"password",maxlength:30,"show-password-on":"click",tabindex:"0",onKeyup:X(w,["enter"])},null,8,["value"])])),_:1})])),_:1}),T(D(je),{delay:190},{default:U((()=>[T(D(V),{path:"email"},{default:U((()=>[T(D(K),{value:f.value.email,"onUpdate:value":a[2]||(a[2]=e=>f.value.email=e),placeholder:"请填写您的邮箱账号"},null,8,["value"])])),_:1})])),_:1}),T(D(je),{delay:260},{default:U((()=>[T(D(V),{path:"captchaCode"},{default:U((()=>[O("div",$e,[T(D(K),{value:f.value.captchaCode,"onUpdate:value":a[3]||(a[3]=e=>f.value.captchaCode=e),class:"flex-1",placeholder:"请填写图中验证码结果"},null,8,["value"]),i.value?(I(),N("div",Pe,[O("span",{class:"cursor-pointer rounded",onClick:C,innerHTML:i.value},null,8,Oe)])):j("",!0)])])),_:1})])),_:1}),T(D(je),{delay:330},{default:U((()=>[T(D(V),{path:"invitedBy"},{default:U((()=>[T(D(K),{value:f.value.invitedBy,"onUpdate:value":a[4]||(a[4]=e=>f.value.invitedBy=e),placeholder:"邀请码[非必填]"},null,8,["value"])])),_:1})])),_:1}),T(D(V),null,{default:U((()=>[T(D(Z),{block:"",type:"primary",disabled:r.value,loading:r.value,onClick:w},{default:U((()=>[R(E(v.value),1)])),_:1},8,["disabled","loading"])])),_:1})])),_:1},8,["model"])),s.value?(I(),q(D(W),{key:1,size:"large",ref_key:"formRef",ref:t,model:h.value,rules:m,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",style:{maxWidth:"640px"}},{default:U((()=>[T(D(je),{delay:50},{default:U((()=>[T(D(V),{path:"username"},{default:U((()=>[T(D(K),{value:h.value.username,"onUpdate:value":a[5]||(a[5]=e=>h.value.username=e),placeholder:"请输入用户名/邮箱号"},null,8,["value"])])),_:1})])),_:1}),T(D(je),{delay:120},{default:U((()=>[T(D(V),{path:"password"},{default:U((()=>[T(D(K),{value:h.value.password,"onUpdate:value":a[6]||(a[6]=e=>h.value.password=e),placeholder:"请输入您的账户密码",type:"password",maxlength:30,"show-password-on":"click",tabindex:"0",onKeyup:X(w,["enter"])},null,8,["value"])])),_:1})])),_:1}),T(J,{isCheck:k.value,"onUpdate:isCheck":a[7]||(a[7]=e=>k.value=e)},null,8,["isCheck"]),T(D(V),null,{default:U((()=>[O("div",qe,[T(D(Z),{disabled:r.value,loading:r.value,color:"#ff6492",onClick:w,class:"!w-[200px]"},{default:U((()=>[Ve])),_:1},8,["disabled","loading"])])])),_:1})])),_:1},8,["model"])):j("",!0)]),y.value?(I(),N("span",Ke,[T(D(Z),{text:"",onClick:a[8]||(a[8]=e=>s.value=!s.value)},{default:U((()=>[R(E(b.value),1)])),_:1})])):j("",!0),T(D(je),{delay:800},{default:U((()=>[s.value?(I(),q(Fe,{key:0})):j("",!0)])),_:1})],64))}}),Ze={class:"pt-[10px]"},We={class:"flex items-center w-full space-x-4"},Je={key:0},Ge=["innerHTML"],Qe={key:1,class:"flex space-x-2 w-full"},Ye={class:"m-auto py-[15px] pt-[10px]"},ea=O("div",{class:"flex items-center gap-2 justify-center align-center"},[O("div",null,"立即登录")],-1),aa={key:0,class:"flex justify-center cursor-pointer text-black"},la={class:"w-full"},ta=s({__name:"Phone",emits:["changeLoginType"],setup(e,{emit:a}){const l=M(),t=g(null),n=F(),s=g(!0),r=g(!1),o=S(),i=g(""),u=c((()=>l.theme)),d=g(!1),v=g(0),p=c((()=>"dark"===u.value?"#363f4f":"#fff")),f=g({username:"",password:"",phone:"",phoneCode:"",invitedBy:"",captchaCode:"",captchaId:null}),h=g({password:"",phone:""}),m={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:2,max:30,message:"用户名长度应为 2 到 30 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:30,message:"密码长度应为 6 到 30 个字符",trigger:"blur"}],phone:[{required:!0,trigger:"blur",validator:(e,a)=>a?!!/^1[3,4,5,6,7,8,9][0-9]{9}$/.test(a)||new Error("请输入正确格式的手机号"):new Error("请输入手机号")}],captchaCode:[{required:!0,message:"请填写图形验证码结果",trigger:"blur"}],phoneCode:[{required:!0,message:"请填写手机验证码",trigger:"blur"}]},b=c((()=>s.value?"还没账号?去注册！":"已有账户去登录！"));c((()=>1===Number(o.globalConfig.wechatRegisterStatus)));const y=c((()=>1===Number(o.globalConfig.phoneRegisterStatus)));function x(){v.value>0&&setTimeout((()=>{v.value--,x()}),1e3)}async function w(){var e;null==(e=t.value)||e.validate((async e=>{if(!e)try{const{phone:e,captchaCode:a,captchaId:l}=f.value,t={phone:e,captchaCode:a,captchaId:l},s=await ae(t);_();const{success:r,message:o}=s;r?(n.success(s.data),d.value=!0,v.value=60,x()):(d.value=!1,n.error(o))}catch(a){_()}}))}c((()=>1===Number(o.globalConfig.phoneLoginStatus))),c((()=>1===Number(o.globalConfig.emailLoginStatus)));const C=H();function k(){var e;if(s.value&&!z.value)return n.error("请先同意用户协议和隐私政策");null==(e=t.value)||e.validate((async e=>{if(!e)try{r.value=!0;const e=s.value?le:te,a=s.value?{phone:h.value.phone,password:h.value.password}:f.value,l=await e(a);r.value=!1,_();const{success:t,message:i}=l;if(!t)return n.error(i);if(s.value)n.success("账户登录成功、开始体验吧！"),o.setToken(l.data),o.getUserInfo(),o.setLoginDialog(!1),P.remove("invitedBy"),C.push({path:"/"});else{n.success("账户注册成功、开始体验吧！");const{phone:e,password:a}=f.value;h.value.phone=e,h.value.password=a,s.value=!s.value}}catch(a){_(),r.value=!1}}))}async function _(){const e=await ee({color:p.value});i.value=e.data.svgCode,f.value.captchaId=e.data.code}const z=g(!1);return $((()=>{const e=P.get("invitedBy");e&&(f.value.invitedBy=e),_()})),(e,a)=>(I(),N(G,null,[O("div",Ze,[s.value?j("",!0):(I(),q(D(W),{key:0,ref_key:"formRef",ref:t,model:f.value,rules:m,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",style:{maxWidth:"640px"}},{default:U((()=>[T(D(je),{delay:50},{default:U((()=>[T(D(V),{path:"username"},{default:U((()=>[T(D(K),{value:f.value.username,"onUpdate:value":a[0]||(a[0]=e=>f.value.username=e),placeholder:"请输入您的用户名昵称"},null,8,["value"])])),_:1})])),_:1}),T(D(je),{delay:120},{default:U((()=>[T(D(V),{path:"password"},{default:U((()=>[T(D(K),{value:f.value.password,"onUpdate:value":a[1]||(a[1]=e=>f.value.password=e),placeholder:"请输入您的账户密码",type:"password",maxlength:30,"show-password-on":"click",tabindex:"0",onKeyup:X(k,["enter"])},null,8,["value"])])),_:1})])),_:1}),T(D(je),{delay:190},{default:U((()=>[T(D(V),{path:"phone"},{default:U((()=>[T(D(K),{value:f.value.phone,"onUpdate:value":a[2]||(a[2]=e=>f.value.phone=e),placeholder:"请填写您的手机号"},null,8,["value"])])),_:1})])),_:1}),T(D(je),{delay:260},{default:U((()=>[d.value?j("",!0):(I(),q(D(V),{key:0,path:"captchaCode"},{default:U((()=>[O("div",We,[T(D(K),{value:f.value.captchaCode,"onUpdate:value":a[3]||(a[3]=e=>f.value.captchaCode=e),class:"flex-1",placeholder:"请填写图中验证码结果"},null,8,["value"]),i.value?(I(),N("div",Je,[O("span",{class:"cursor-pointer rounded",onClick:_,innerHTML:i.value},null,8,Ge)])):j("",!0)])])),_:1}))])),_:1}),T(D(je),{delay:330},{default:U((()=>[d.value?(I(),q(D(V),{key:0,path:"phoneCode"},{default:U((()=>[T(D(K),{value:f.value.phoneCode,"onUpdate:value":a[4]||(a[4]=e=>f.value.phoneCode=e),class:"flex-1",placeholder:"请填写手机验证码"},null,8,["value"])])),_:1})):j("",!0)])),_:1}),T(D(je),{delay:400},{default:U((()=>[T(D(V),{path:"invitedBy"},{default:U((()=>[T(D(K),{value:f.value.invitedBy,"onUpdate:value":a[5]||(a[5]=e=>f.value.invitedBy=e),placeholder:"邀请码[非必填]"},null,8,["value"])])),_:1})])),_:1}),T(D(V),null,{default:U((()=>[d.value?(I(),N("div",Qe,[T(D(Z),{block:"",type:"primary",disabled:r.value,loading:r.value,class:"flex-1",onClick:k},{default:U((()=>[R(" 注册账户 ")])),_:1},8,["disabled","loading"]),T(D(Z),{block:"",class:"flex-1",disabled:v.value>0,onClick:a[6]||(a[6]=e=>d.value=!1)},{default:U((()=>[R(" 重新发送"+E(v.value?`(${v.value}S)`:""),1)])),_:1},8,["disabled"])])):(I(),q(D(Z),{key:0,block:"",type:"primary",disabled:r.value,loading:r.value,onClick:w},{default:U((()=>[R(" 发送验证码 ")])),_:1},8,["disabled","loading"]))])),_:1})])),_:1},8,["model"])),s.value?(I(),q(D(W),{key:1,ref_key:"formRef",ref:t,model:h.value,size:"large",rules:m,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",style:{maxWidth:"640px"}},{default:U((()=>[T(D(je),{delay:50},{default:U((()=>[T(D(V),{path:"phone"},{default:U((()=>[T(D(K),{value:h.value.phone,"onUpdate:value":a[7]||(a[7]=e=>h.value.phone=e),placeholder:"请输入手机号"},null,8,["value"])])),_:1})])),_:1}),T(D(je),{delay:120},{default:U((()=>[T(D(V),{path:"password"},{default:U((()=>[T(D(K),{value:h.value.password,"onUpdate:value":a[8]||(a[8]=e=>h.value.password=e),placeholder:"请输入您的账户密码",type:"password",maxlength:30,"show-password-on":"click",tabindex:"0",onKeyup:X(k,["enter"])},null,8,["value"])])),_:1})])),_:1}),T(J,{isCheck:z.value,"onUpdate:isCheck":a[9]||(a[9]=e=>z.value=e)},null,8,["isCheck"]),O("div",Ye,[T(D(Z),{disabled:r.value,loading:r.value,color:"#ff6492",onClick:k,class:"!w-[200px]"},{default:U((()=>[ea])),_:1},8,["disabled","loading"])])])),_:1},8,["model"])):j("",!0)]),y.value?(I(),N("span",aa,[T(D(Z),{text:"",onClick:a[10]||(a[10]=e=>s.value=!s.value)},{default:U((()=>[R(E(b.value),1)])),_:1})])):j("",!0),T(D(je),{delay:800},{default:U((()=>[O("div",la,[s.value?(I(),q(Fe,{key:0})):j("",!0)])])),_:1})],64))}}),na={class:"w-full h-full flex flex-col items-center"},sa=O("div",{class:"text-[#374151] dark:text-white font-bold text-[20px] mt-[50px]"}," 微信扫码登录 ",-1),ra={style:{"white-space":"nowrap"},class:"mt-[20px] w-full text-center font-bold text-sm"},oa={class:"w-[65px] inline-block font-normal text-[#FF505C] text-left"},ia={class:"w-[280px] h-[280px] wechat-shadow flex flex-col justify-center items-center relative select-none mt-[20px]"},ua={class:"mt-2 text-[#222222] dark:text-white font-normal flex items-center"},ca=["src"],da=s({__name:"Wechat",emits:["changeLoginType"],setup(e,{emit:a}){let l;const t=H(),n=g(""),s=g(""),r=g(!1),o=F(),i=S(),u=g();async function d(){const e={invitedBy:P.get("invitedBy")},a=await ue(e);a.success&&(s.value=a.data,async function(){const e=await ce({sceneStr:s.value});e.success&&(r.value=!0,await(a=e.data,new Promise(((e,l)=>{const t=new Image;t.onload=()=>e(t),t.onerror=l,t.src=a}))),n.value=e.data,l=setInterval((()=>{!async function(){if(!s.value)return;const e=await de({sceneStr:s.value});e.data&&(clearInterval(l),o.success("账户登录成功、开始体验吧！"),i.setToken(e.data),i.getUserInfo(),i.setLoginDialog(!1),P.remove("invitedBy"),t.push("/"))}()}),1e3));var a}())}function v(){var e;clearInterval(l),d(),null==(e=u.value)||e.reset()}return c((()=>1===Number(i.globalConfig.phoneLoginStatus))),c((()=>1===Number(i.globalConfig.emailLoginStatus))),$((()=>{d()})),ne((()=>{clearInterval(l)})),(e,a)=>(I(),N("div",na,[sa,O("div",ra,[O("p",null,[O("span",oa,[T(D(se),{ref_key:"countdownRef",ref:u,active:r.value,duration:6e4,"on-finish":v},null,8,["active"])]),R(" 秒后二维码将刷新 ")])]),T(D(je),{delay:200,scale:.5,duration:500},{default:U((()=>[O("div",ia,[n.value?(I(),q(D(re),{key:0,"preview-disabled":"",class:"w-[220px] h-[220px] select-none",src:n.value},null,8,["src"])):(I(),q(D(oe),{key:1,height:"230px",width:"220px",animated:""})),n.value?j("",!0):(I(),q(D(ie),{key:2,size:"large",class:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2"})),O("div",ua,[O("img",{src:D("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAZCAYAAAAmNZ4aAAAAAXNSR0IArs4c6QAAAlBJREFUSEu1lv152kAMxn+6BUonKJmgZIJiZwHDAiETFCZIM0HpBIUFsDsA2ExQMkHdDegCpz5n82VsY3Da+8uPdadXJ72vdELdioMe1jwi2gN6IJ18q6aobDA2AeZ40bbWxwWDlGxxEKDyDOIAm5cyw9jJrQEUgZeDKSKfm9HOd+gW0Se8KLr27BF4NZiBPF57sHKf8sTDYnaNjxx4OfyC8Fw4oPxGNAX5VHKk/EF0U7ZlN/fwok0TuBAHXdT8KoEa28vqVpV+sXd4UcpyOEL4XgTRBD/0moEr66ob/PB+l40xwteCI7Hvs6AyIpqwBLIP7CKrV4OkJp2OKCmio6OU9p50g0iEZrbuTmavwBaVBGOjpnQLq6E2paXW7ngAU4x1Nf2INT1E80AyrTse6Dory9lqD6z6DaMJ6uQn/YvB51p/OQ1AqEv1JU9ONtAtKeEyuivDZC83qZTSZdAX0E67RgOIHbhGUy2nOmBXU2Mdk38etjhNGzvCGpeBI/vr/pNp/a6+gVSBK5N8aJx2OF3jh3mNC0St+++Ix+S2linWQ01c0cmmu5oHZ42o+j+6Lg6Jpn7tL9qroBjRGXApXWd3+2/AcdA/pNLpFHFE6KPiiPMBl2prZtn3m5bOz+axm1Lqus+4qtvU9u5bgxB7X36BXONkOUzb31rn+OGoHXD+HksQ3l0T53GPvmal86JtO2DnKQ46qESVk60yGv2BHx7k1h547zwjpIxR6ZcykE8v8rL8a+DT27nXjBse+UoPBHVPKxjxsNjbePuNbyvyYfdfPDkKItnJNCsAAAAASUVORK5CYII="),class:"w-[18px] mr-1",alt:""},null,8,ca),R(" 微信扫码 ")])])])),_:1}),T(D(je),{delay:400},{default:U((()=>[T(Fe)])),_:1})]))}}),va={key:0,id:"loginModal",class:"flex flex-col items-center bg-[white] dark:bg-[#1C1E24] pt-[10px] justify-center"},pa={class:"wish-title pt-[15px]"},ga={class:"flex w-[80%]"},fa={key:0},ha=(e=>(we("data-v-9e58b6dd"),e=e(),Ce(),e))((()=>O("div",{class:"text-sm"},"登录方式",-1))),ma=["src"],ba={key:1,id:"loginModal",class:"flex flex-col items-center px-12 bg-[white] dark:bg-[#1C1E24]"},ya={class:"flex-1 bg-white flex justify-center items-center dark:bg-[#34373c] h-[600px]"},xa=ke(s({__name:"index",setup(e){const a=ve(),l=S(),t=c((()=>1===Number(l.globalConfig.emailLoginStatus))),n=c((()=>1===Number(l.globalConfig.wechatRegisterStatus))),s=c((()=>1===Number(l.globalConfig.phoneLoginStatus))),r=c((()=>l.isLogin)),o=H();$((()=>{r.value&&o.push("/")}));const i=c((()=>!n.value&&!s.value&&!t.value)),{winHeight:u,winWidth:d}=pe(),v=[{type:"general",img:Ee},{type:"wx",img:De}],p=ge({loginType:"general"}),f=()=>{p.loginType="general"==p.loginType?"wx":"general"},h=g("login");return $((()=>{n.value&&(p.loginType="wx")})),(e,r)=>{const o=me,c=Z,g=Te;return I(),N("div",{class:"loginBox",style:he({minHeight:`${D(u)}px`,minWidth:`${D(d)}px`,backgroundImage:`url(${D(a)?D(Ue):D(Re)})`})},[T(be),D(i)?j("",!0):(I(),N("div",va,[O("div",pa,E("login"==D(h)?"您好,欢迎登录!":"")+" "+E("registry"==D(h)?"注册":"")+" "+E("getBack"==D(h)?"找回密码":""),1),O("div",ga,["general"==D(p).loginType?(I(),q(D(xe),{key:0,class:"tabs py-4",type:"segment",animated:""},{default:U((()=>[D(s)?(I(),q(D(ye),{key:0,name:"chap1",tab:"手机号"},{default:U((()=>[T(ta)])),_:1})):j("",!0),D(t)?(I(),q(D(ye),{key:1,name:"chap2",tab:"邮箱"},{default:U((()=>[T(Xe)])),_:1})):j("",!0)])),_:1})):j("",!0)]),"wx"==D(p).loginType?(I(),N("div",fa,[T(da)])):j("",!0),"login"==D(h)&&!D(i)&&D(n)?(I(),q(o,{key:1,class:"my-1"},{default:U((()=>[ha])),_:1})):j("",!0),!D(i)&&D(n)?(I(),N("div",{key:2,class:"wxBtn flex justify-center align-center pb-4 cursor-pointer",onClick:f},[(I(),N(G,null,fe(v,((e,a)=>O("div",{key:a},[D(p).loginType==e.type?(I(),N("img",{key:0,src:e.img,alt:""},null,8,ma)):j("",!0)]))),64))])):j("",!0)])),D(i)?(I(),N("div",ba,[O("div",ya,[T(g,{size:"small",status:"403",title:"网站已经关闭注册通道",description:"请联系管理员开通吧"},{footer:U((()=>[T(c,{size:"small",onClick:r[0]||(r[0]=e=>D(l).setLoginDialog(!1))},{default:U((()=>[R(" 知道了 ")])),_:1})])),_:1})])])):j("",!0)],4)}}}),[["__scopeId","data-v-9e58b6dd"]]);export{xa as default};
