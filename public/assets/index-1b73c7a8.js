import{d as e,o as l,c as a,aE as t,e as s,a6 as n,v as r,L as i,g as o,w as u,f as c,aF as d,n as p,t as m,K as v,a as f,r as x,b as h,O as k,A as b,F as g,j as w,h as y,N as L,l as _,m as C,aG as j,G as I,y as z,aH as A,H as P,aI as D,aJ as E,aK as M}from"./index-62750275.js";import{_ as B}from"./index.vue_vue_type_style_index_0_lang-44deaf93.js";import{N as U}from"./InputGroup-4d6d12d1.js";import"./index-d02c8616.js";const O={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},$=[t('<path d="M432 112V96a48.14 48.14 0 0 0-48-48H64a48.14 48.14 0 0 0-48 48v256a48.14 48.14 0 0 0 48 48h16" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32"></path><rect x="96" y="128" width="400" height="336" rx="45.99" ry="45.99" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32"></rect><ellipse cx="372.92" cy="219.64" rx="30.77" ry="30.55" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></ellipse><path d="M342.15 372.17L255 285.78a30.93 30.93 0 0 0-42.18-1.21L96 387.64" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path d="M265.23 464l118.59-117.73a31 31 0 0 1 41.46-1.87L496 402.91" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path>',5)],q=e({name:"ImagesOutline",render:function(e,t){return l(),a("svg",O,$)}}),F={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},G=[s("path",{d:"M30.71 229.47l188.87-113a30.54 30.54 0 0 1 31.09-.39a33.74 33.74 0 0 1 16.76 29.47v79.05l180.72-108.16a30.54 30.54 0 0 1 31.09-.39A33.74 33.74 0 0 1 496 145.52v221A33.73 33.73 0 0 1 479.24 396a30.54 30.54 0 0 1-31.09-.39L267.43 287.4v79.08A33.73 33.73 0 0 1 250.67 396a30.54 30.54 0 0 1-31.09-.39l-188.87-113a31.27 31.27 0 0 1 0-53z",fill:"currentColor"},null,-1)],H=e({name:"PlayBack",render:function(e,t){return l(),a("svg",F,G)}}),K={class:"pt-1 mr-2 cursor-pointer"},N=e({__name:"titleBar",props:{title:{default:""},des:{default:""},padding:{default:4}},setup(e){const t=e,v=n(),f=r((()=>"dark"===v.theme)),x=i();return(e,n)=>(l(),a("div",{class:p(["flex border-b border-[#ebebeb] dark:border-[#ffffff17] py-4 w-full",[`px-${t.padding}`]])},[s("div",K,[o(c(d),{size:"16",class:"text-primary",onClick:n[0]||(n[0]=e=>c(x).push("/"))},{default:u((()=>[o(c(H))])),_:1})]),s("div",null,[s("b",{class:p([[f.value?"text-[#fff]":"text-[#555]"],"text-lg"])},m(t.title),3),s("div",{class:p([[f.value?"text-[#fff]":"text-[#626569]"],"text-truncate text-[#626569] mt-1"])},m(t.des),3)])],2))}}),J={class:"flex my-5"},R=s("p",{class:"mx-2 text-[#707384] select-none flex-shrink-0"}," Prompt示例： ",-1),S={class:"text-[#707384]"},W=s("h4",{class:"text-base mb-2"},"参数设置",-1),V={class:"flex items-center mt-5"},Q=s("span",{class:"mr-2 inline-block w-16 flex-shrink-0"},"图片尺寸:",-1),T=["onClick"],X={class:"flex items-center mt-5"},Y=s("span",{class:"mr-2 inline-block w-16 flex-shrink-0"},"图片质量:",-1),Z=["onClick"],ee=s("div",{class:"flex mt-5"},[s("h4",{class:"text-base mr-2 w-20 flex-shrink-0"},"修饰词参考"),s("p",{class:"text-[#707384]"}," 您可参考或选用下列各类修饰词丰富您的输入文本，尝试生成更加多样的图像，更多修饰词可参考 Prompt指南 或 自由输入 探索大模型作画更多未知能力 ")],-1),le={class:"flex mt-5"},ae=s("h4",{class:"text-base mr-2 w-20 flex-shrink-0"},"图像类型",-1),te=["onClick"],se={key:0,class:"mt-8 pb-10"},ne=s("div",{class:"flex justify-center"}," ----------- 正在生成中、图片越大数量越多所需时间越多、预计25S ----------- ",-1),re={class:"flex flex-wrap mt-8"},ie={key:0,class:"min-h-screen"},oe={key:0,class:"min-h-screen"},ue=e({__name:"index",setup(e){const t=r((()=>F.theme)),i=v(),O=r((()=>"dark"===t.value?"#fff":"#000")),{isMobile:$}=f(),F=n(),G=r((()=>i.isLogin)),H=x(0),K=x(!1),ue=h(),ce=x([]),de=x([]),pe=r((()=>"dark"===F.theme));k(G,(async(e,l)=>{e&&!l&&be()}));const me=["超级逼真的未来世界，真实照片，虚幻引擎","帅哥，二次元，赛博朋克风格，精致脸庞","兔子，可爱，高质量，高品质"],ve=[{label:"1024x1024",value:"1024x1024"},{label:"1024x1792",value:"1024x1792"},{label:"1792x1024",value:"1792x1024"}],fe=[{label:"标准(2积分)",value:"standard"},{label:"优质(4积分)",value:"hd"}],xe=["古风","二次元","写实照片","油画","水彩画","油墨画","黑白雕版画","雕塑","3D模型","手绘草图","炭笔画","极简线条画","电影质感","机械感"],he=x({prompt:"",n:1,size:"1024x1024",quality:"standard"});function ke(){H.value=H.value+1>=me.length?0:H.value+1}async function be(){const e=await D({model:"DALL-E2"});e.success&&(ce.value=ye(e.data))}function ge(){}function we(e){he.value.prompt=e}function ye(e){if(!e)return[];const l=[];return e.forEach((e=>{const{id:a,fileInfo:t,prompt:s,thumbImg:n}=e;let r=null;if("string"==typeof t)try{r=JSON.parse(t)}catch(c){r={}}else r=t||{};const{width:i,height:o,cosUrl:u}=r;l.push({id:a,prompt:s,fullPrompt:s,fileInfo:{thumbImg:n,width:i,height:o,cosUrl:u}})})),l.filter((e=>e.fileInfo&&e.fileInfo.width))}async function Le(){if(!he.value.prompt)return ue.error("请输入您想要生成的图片描述信息！");try{K.value=!0,await M(he.value),ue.success("生成图片成完成、前往我的生成查看图片！"),await be(),K.value=!1}catch(e){K.value=!1}}function _e(e){"mine"===e&&be(),"all"===e&&async function(){const e=await E({size:999,rec:1,model:"DALL-E2"});if(!e.success)return ue.error(e.message);de.value=ye(e.data.rows)}()}return b((()=>{})),(e,t)=>(l(),a("div",{class:p(["main min-h-screen bg-center dark:bg-[#2F2E34]",[pe.value?"darkBg":"lightBg",c($)?"px-3":"px-10"]])},[o(c(N),{title:"DALL-E绘画",des:"基于DALL-E的绘画、速度较快、同步等待到结束后在我的绘画中可以看到结果！",padding:c($)?2:20},null,8,["padding"]),s("div",{class:p(c($)?["px-2"]:["px-20"])},[s("div",J,[s("b",{class:"text-primary cursor-pointer select-none flex-shrink-0",onClick:ke},"换示例"),R,s("p",S,m(me[H.value]),1)]),o(c(U),null,{default:u((()=>[o(c(L),{value:he.value.prompt,"onUpdate:value":t[0]||(t[0]=e=>he.value.prompt=e),disabled:K.value,clearable:"",placeholder:"请输入您想要生成的图片描述信息、可以参考上面的示例文字、我们将会对其转为英文绘画、请知悉！"},null,8,["value","disabled"]),o(c(_),{type:"success",loading:K.value,disabled:K.value,onClick:Le},{icon:u((()=>[o(c(d),null,{default:u((()=>[o(c(q))])),_:1})])),default:u((()=>[C(" 生成图片 ")])),_:1},8,["loading","disabled"])])),_:1}),s("div",{class:p(["mt-5 py-4 bg-[#e7eaf380] dark:bg-[#2c2c32] primaryRadius",c($)?"px-0":"px-4"])},[W,s("div",V,[Q,s("div",null,[(l(),a(g,null,w(ve,(e=>s("span",{key:e.value,class:p(["rounded ml-2 select-none cursor-pointer inline-block mb-2",[e.value===he.value.size?["text-primary","bg-[#0d6efd1c]"]:["bg-[#bfc4d033]"],c($)?"px-1.5 py-0.5":"px-3 py-1"]]),onClick:l=>he.value.size=e.value},m(e.label),11,T))),64))])]),s("div",X,[Y,s("div",null,[(l(),a(g,null,w(fe,(e=>s("span",{key:e.value,class:p(["py-0.5 px-2.5 rounded ml-2 select-none cursor-pointer inline-block mb-2",e.value===he.value.quality?["text-primary","bg-[#0d6efd1c]"]:["bg-[#bfc4d033]"]]),onClick:l=>he.value.quality=e.value},m(e.label),11,Z))),64))])]),ee,s("div",le,[ae,s("div",null,[(l(),a(g,null,w(xe,((e,l)=>s("span",{key:e,class:"cursor-pointer hover:text-primary",onClick:l=>he.value.prompt+=he.value.prompt?`，${e}`:e},m(`${e} ${l+1===xe.length?"":"、"}`),9,te))),64))])])],2),K.value?(l(),a("div",se,[ne,s("div",re,[(l(!0),a(g,null,w(he.value.n,(e=>(l(),a("div",{class:"w-44 h-44 border primaryRadius relative ml-4 mt-4",key:e},[o(j,{"text-color":O.value,words:["图","片","绘","制","中"]},null,8,["text-color"])])))),128))])])):y("",!0),o(c(P),{type:"line",animated:"",class:"mt-5","onUpdate:value":_e},{default:u((()=>[o(c(I),{name:"all",tab:"公共生成"},{default:u((()=>[de.value.length?(l(),a("div",ie,[o(B,{onLoadMore:ge,usePropmpt:"",gap:8,preOrigin:"",onUsePropmptDraw:we,dataList:de.value,scaleWidth:50},null,8,["dataList"])])):(l(),z(c(A),{key:1,size:"huge",class:"mt-20",description:"暂无数据哟~"}))])),_:1}),o(c(I),{name:"mine",tab:"我的生成"},{default:u((()=>[ce.value.length?(l(),a("div",oe,[o(B,{onLoadMore:ge,usePropmpt:"",gap:8,preOrigin:"",onUsePropmptDraw:we,dataList:ce.value,scaleWidth:50},null,8,["dataList"])])):(l(),z(c(A),{key:1,size:"huge",class:"mt-20",description:"暂无数据哟~"}))])),_:1})])),_:1})],2)],2))}});export{ue as default};
