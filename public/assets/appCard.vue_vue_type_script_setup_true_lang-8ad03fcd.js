import{d as e,b as a,aZ as t,v as l,o as i,c as s,e as p,f as o,g as r,w as c,m as n,t as d,h as u,y as m,C as x,z as f,l as v,a_ as g,c0 as y,c3 as b}from"./index-62750275.js";import{_ as k}from"./Ellipsis-e9b4b389.js";import{_ as h}from"./Popconfirm-b5167f80.js";const w={key:0,class:"bg-[#F7F7FA] dark:bg-[#18181c] primaryRadius flex flex-col justify-center items-center min-h-[230px] gap-[8px] px-4 cursor-pointer relative overflow-hidden pl-[20px] border dark:border-[#000]"},_={class:"absolute top-[-45px] blur-[40px]"},C=["src"],E={class:"w-full flex flex-col"},R={class:"w-16 h-16 flex justify-center items-center primaryRadius overflow-hidden shadow-md mr-5 border border-[#00000014]"},j=["src"],A={class:"flex flex-col gap-[8px]"},I={class:"break-all text-lg font-semibold tracking-wide text-[#333] dark:text-[#ffffff] pt-[10px]"},z={class:"break-all overflow-hidden text-gray-400 w-full text-[12px]"},F={class:"flex gap-[5px]"},P={key:0,class:"flex items-center text-[12px] text-[#666666] font-bold bg-[#97FE76] dark:bg-[#89ffdc] primaryRadius px-[8px] py-[2px] gap-[2px] cursor-pointer"},G={key:1,class:"flex items-center text-[12px] text-[#666666] bg-[#E9E9E9] dark:bg-[#080707] primaryRadius px-[8px] py-[2px] gap-[2px] cursor-pointer"},N=["src"],q={key:1,class:""},M={key:0,class:"w-full flex justify-between mt-3"},D={class:"flex"},S={class:"flex space-x-[10px]"},T=e({__name:"appCard",props:{item:{},type:{}},emits:["collect","runApp","handlerEditApp"],setup(e,{emit:T}){const Z=e,B=a(),H=T,J=t(),K=e=>"description"in e,L=e=>"appName"in e,O=e=>"isGpts"in e,Q=l((()=>Z.item)),U=l((()=>K(Q.value)?Q.value.favicon:L(Q.value)||O(Q.value)?Q.value.coverImg:void 0)),V=l((()=>K(Q.value)?Q.value.title:L(Q.value)?Q.value.appName:Q.value.name)),W=l((()=>K(Q.value)?Q.value.description:L(Q.value)?Q.value.appDes:Q.value.des)),X=l((()=>!!K(Q.value)||!!O(Q.value)&&Q.value.isGpts)),Y=l((()=>!K(Q.value)&&(!L(Q.value)&&Q.value.catImg))),$=l((()=>!K(Q.value)&&(!L(Q.value)&&Q.value.catName)));return(e,a)=>{const t=k,l=f,T=v,Z=h,O=g;return e.item?(i(),s("div",w,[p("div",_,[p("img",{class:"w-[65px] h-[65px]",src:o(U)},null,8,C)]),p("div",E,[p("span",R,[p("img",{src:o(U)},null,8,j)]),p("div",A,[p("span",I,[r(t,{"line-clamp":1},{default:c((()=>[n(d(o(V)),1)])),_:1})]),p("p",z,[r(t,{"line-clamp":2},{default:c((()=>[n(d(o(W)),1)])),_:1})]),p("div",F,[o(X)?(i(),s("div",P," GPTS ")):u("",!0),K(e.item)||!e.item.catId||L(e.item)?u("",!0):(i(),s("div",G,[o(Y)?(i(),s("img",{key:0,class:"w-[17px] h-[17px]",src:o(Y),alt:""},null,8,N)):u("",!0),o($)?(i(),s("span",q,d(o($)),1)):u("",!0)]))])])]),L(e.item)?(i(),s("div",M,["system"===e.item.appRole||e.item.public?(i(),m(Z,{key:0,placement:"bottom",onPositiveClick:a[1]||(a[1]=x((a=>async function(e){e.loading=!0;try{const a=await y({appId:e.appId});B.success(a.data),await J.queryMineApps(),e.loading=!1}catch(a){e.loading=!1}}(e.item)),["stop"]))},{trigger:c((()=>[r(T,{size:"tiny",ghost:"",loading:e.item.loading,onClick:a[0]||(a[0]=x((()=>{}),["stop"]))},{icon:c((()=>[r(l,{icon:"clarity:favorite-line",class:"text-base"})])),default:c((()=>[n(" 取消收藏 ")])),_:1},8,["loading"])])),default:c((()=>[n(" 确认取消收藏该应用吗？ ")])),_:1})):u("",!0),p("div",D,[r(O,null,{default:c((()=>["user"!==e.item.appRole||e.item.public?u("",!0):(i(),m(Z,{key:0,placement:"bottom",onPositiveClick:a[3]||(a[3]=x((a=>async function(e){const a=await b({id:e.appId});B.success(a.data),J.queryMineApps()}(e.item)),["stop"]))},{trigger:c((()=>[r(T,{size:"tiny",ghost:"",loading:e.item.loading,onClick:a[2]||(a[2]=x((()=>{}),["stop"]))},{icon:c((()=>[r(l,{icon:"mdi-light:delete",class:"text-base"})])),default:c((()=>[n(" 删除应用 ")])),_:1},8,["loading"])])),default:c((()=>[n(" 确认移除创建的应用吗？ ")])),_:1})),p("div",S,["user"!==e.item.appRole||e.item.public?u("",!0):(i(),m(T,{key:0,size:"tiny",ghost:"",loading:e.item.loading,onClick:a[4]||(a[4]=x((a=>{return t=e.item,void H("handlerEditApp",t);var t}),["stop"]))},{icon:c((()=>[r(l,{icon:"mdi-light:delete",class:"text-base"})])),default:c((()=>[n(" 编辑应用 ")])),_:1},8,["loading"])),r(l,{icon:"codicon:run-all",class:"run-icon text-xl text-[--primaryColor]"}),3===e.item.status?(i(),m(l,{key:1,icon:"icon-park-twotone:mark",class:"text-xl text-[--primaryColor] absolute right-3 top-3"})):u("",!0)])])),_:1})])])):u("",!0)])):u("",!0)}}});export{T as _};
