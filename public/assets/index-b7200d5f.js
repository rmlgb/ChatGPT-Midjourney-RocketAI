import{b6 as e,b7 as a,d as l,bc as t,bd as n,cD as s,v as i,bi as r,bl as o,a0 as u,o as d,c,e as p,T as v,ay as f,r as m,b as g,y as x,w as b,f as w,g as h,a$ as y,aF as k,b1 as z,N as C,l as S,m as _,b0 as j,ag as A,K as F,L as R,Q as I,a as B,bv as $,A as N,h as M,af as P,ab as U,bs as D,bx as E,t as L,n as O,H as q,G as V,cE as G,bw as T}from"./index-62750275.js";import{N as H}from"./InputNumber-83e4dcfe.js";import{N as Q}from"./Select-e3a2205c.js";import{c as K}from"./index-d02c8616.js";import{N as W}from"./InputGroup-4d6d12d1.js";import{N as J}from"./DataTable-869161d3.js";import"./Dropdown-0073002d.js";import"./Ellipsis-e9b4b389.js";const X=e("input-group-label","\n position: relative;\n user-select: none;\n -webkit-user-select: none;\n box-sizing: border-box;\n padding: 0 12px;\n display: inline-block;\n border-radius: var(--n-border-radius);\n background-color: var(--n-group-label-color);\n color: var(--n-group-label-text-color);\n font-size: var(--n-font-size);\n line-height: var(--n-height);\n height: var(--n-height);\n flex-shrink: 0;\n white-space: nowrap;\n transition: \n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n",[a("border","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n border: var(--n-group-label-border);\n transition: border-color .3s var(--n-bezier);\n ")]),Y=l({name:"InputGroupLabel",props:Object.assign(Object.assign({},n.props),{size:{type:String,default:"medium"},bordered:{type:Boolean,default:void 0}}),setup(e){const{mergedBorderedRef:a,mergedClsPrefixRef:l,inlineThemeDisabled:u}=t(e),d=n("Input","-input-group-label",X,s,e,l),c=i((()=>{const{size:a}=e,{common:{cubicBezierEaseInOut:l},self:{groupLabelColor:t,borderRadius:n,groupLabelTextColor:s,lineHeight:i,groupLabelBorder:o,[r("fontSize",a)]:u,[r("height",a)]:c}}=d.value;return{"--n-bezier":l,"--n-group-label-color":t,"--n-group-label-border":o,"--n-border-radius":n,"--n-group-label-text-color":s,"--n-font-size":u,"--n-line-height":i,"--n-height":c}})),p=u?o("input-group-label",i((()=>e.size[0])),c,e):void 0;return{mergedClsPrefix:l,mergedBordered:a,cssVars:u?void 0:c,themeClass:null==p?void 0:p.themeClass,onRender:null==p?void 0:p.onRender}},render(){var e,a,l;const{mergedClsPrefix:t}=this;return null===(e=this.onRender)||void 0===e||e.call(this),u("div",{class:[`${t}-input-group-label`,this.themeClass],style:this.cssVars},null===(l=(a=this.$slots).default)||void 0===l?void 0:l.call(a),this.mergedBordered?u("div",{class:`${t}-input-group-label__border`}):null)}}),Z={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ee=[p("path",{d:"M336 192h40a40 40 0 0 1 40 40v192a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V232a40 40 0 0 1 40-40h40",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),p("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M336 128l-80-80l-80 80"},null,-1),p("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 321V48"},null,-1)],ae=l({name:"ShareOutline",render:function(e,a){return d(),c("svg",Z,ee)}});const le={class:"p-5 bg-white rounded dark:bg-slate-800"},te=p("span",{class:"text-lg"}," 提款申请表 ",-1),ne={class:"pt-5"},se=l({__name:"drawMoneyDialog",props:{visible:{type:Boolean}},emits:["close","submit"],setup(e,{emit:a}){const l=a,t=m(null),n=g(),s=[{label:"支付宝",value:1},{label:"微信",value:2}],i=m({withdrawalAmount:null,withdrawalChannels:null,contactInformation:"",remark:""}),r=m(!1),o={withdrawalAmount:[{required:!0,message:"请填写你的提款金额！"}],withdrawalChannels:[{required:!0,message:"请选择你的提款渠道！"}],contactInformation:[{required:!0,message:"请填写您的联系方式并备注！",trigger:"blur"}],remark:[{required:!1,message:"如有特殊情况、请备注说明！",trigger:"blur"}]};function u(){var e;null==(e=t.value)||e.validate((async e=>{if(!e)try{r.value=!0;const{withdrawalAmount:e,withdrawalChannels:t,contactInformation:s,remark:o}=i.value;(await(a={withdrawalAmount:e,withdrawalChannels:t,contactInformation:s,remark:o},f({url:"/sales/appForMoney",data:a}))).success&&(n.success("申请提现成功、请耐心等待审核！"),i.value={withdrawalAmount:null,withdrawalChannels:null,contactInformation:"",remark:""},l("submit"),l("close")),r.value=!1}catch(t){r.value=!1}var a}))}function c(){}function v(){}function F(){l("close")}return(e,a)=>(d(),x(w(A),{show:e.visible,style:{width:"90%","max-width":"500px"},"on-after-enter":c,"on-after-leave":v},{default:b((()=>[p("div",le,[te,p("div",{class:"absolute top-3 right-3 cursor-pointer z-30",onClick:F},[h(w(k),{size:"20",color:"#0e7a0d"},{default:b((()=>[h(w(y))])),_:1})]),p("div",ne,[h(w(j),{ref_key:"formRef",ref:t,model:i.value,rules:o,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",style:{maxWidth:"640px"}},{default:b((()=>[h(w(z),{path:"withdrawalAmount",label:"提款金额"},{default:b((()=>[h(w(H),{value:i.value.withdrawalAmount,"onUpdate:value":a[0]||(a[0]=e=>i.value.withdrawalAmount=e),class:"w-full",clearable:"",precision:2,placeholder:"请填写提款金额"},null,8,["value"])])),_:1}),h(w(z),{path:"withdrawalChannels",label:"提款渠道"},{default:b((()=>[h(w(Q),{value:i.value.withdrawalChannels,"onUpdate:value":a[1]||(a[1]=e=>i.value.withdrawalChannels=e),placeholder:"请选择您的提款渠道！",options:s},null,8,["value"])])),_:1}),h(w(z),{path:"contactInformation",label:"联系方式"},{default:b((()=>[h(w(C),{value:i.value.contactInformation,"onUpdate:value":a[2]||(a[2]=e=>i.value.contactInformation=e),type:"textarea",rows:3,placeholder:"请填写你的联系方式"},null,8,["value"])])),_:1}),h(w(z),{path:"remark",label:"提款备注"},{default:b((()=>[h(w(C),{value:i.value.remark,"onUpdate:value":a[3]||(a[3]=e=>i.value.remark=e),type:"textarea",rows:3,placeholder:"请填写你的提款备注！"},null,8,["value"])])),_:1}),h(w(z),{class:"mt-3"},{default:b((()=>[h(w(S),{block:"",type:"primary",disabled:r.value,loading:r.value,onClick:u},{default:b((()=>[_(" 申 请 提 现 ")])),_:1},8,["disabled","loading"])])),_:1})])),_:1},8,["model"])])])])),_:1},8,["show"]))}}),ie={class:"main bg-[#f8f8fb] min-h-screen bg-center dark:bg-[#2F2E34] py-[15px] flex flex-col gap-[10px]"},re=p("div",{class:"flex"},[p("span",{class:"bg-[#F7F7FA] dark:bg-[#353944] p-4 primaryRadius w-full text-center font-bold"},"加入我们，共享成功！欢迎来到我们的分销页面，成为我们的合作伙伴，一同开创美好未来！")],-1),oe={class:"flex flex-col py-[30px] font-bold"},ue={class:"flex justify-between items-center"},de={class:"flex items-center gap-2 font-bold"},ce={class:"text-[15px]"},pe=p("span",{class:"text-[--primaryColor] font-bold text-[12px]"},"立即提现",-1),ve={class:"flex justify-between pt-2"},fe={class:"flex flex-col"},me={class:"text-[28px]"},ge={class:"text-end"},xe=p("span",{class:"text-[12px] pl-[10px] text-[]"},"元",-1),be=p("span",{class:"text-[12px] font-[500]"},"总计金额",-1),we={class:"flex flex-col"},he={class:"text-[28px]"},ye={class:"text-end"},ke=p("span",{class:"text-[12px] pl-[10px] text-[]"},"元",-1),ze=p("span",{class:"text-[12px] font-[500]"},"剩余可提现金额",-1),Ce={class:"flex flex-col"},Se={class:"text-[28px]"},_e={class:"text-end"},je=p("span",{class:"text-[12px] pl-[10px] text-[]"},"元",-1),Ae=p("span",{class:"text-[12px] font-[500]"},"正在提现金额",-1),Fe={class:"flex w-full"},Re=p("span",null,"购买订单数量",-1),Ie={class:"text-[#52D24C]"},Be=p("span",null,"推广链接访问次数",-1),$e={class:"text-[#FFB647]"},Ne=p("span",null,"邀请用户",-1),Me={class:"text-[#F23E3E]"},Pe={class:"flex flex-col w-full pt-[30px] font-bold"},Ue=p("div",{class:"flex pb-2"},"佣金模式",-1),De=p("span",null,"推广收益",-1),Ee={class:""},Le=p("div",{class:"flex font-normal pt-2 text-[#7B7D80] text-[10px]"}," 推广的用户注册购买产品后返佣金额 ",-1),Oe=p("span",null,"申请成为高级代理",-1),qe={class:""},Ve=p("div",{class:"flex font-normal pt-2 text-[#7B7D80] text-[10px]"}," 联系站长申请高级代理可享超高返佣 ",-1),Ge=[p("span",null,"加入我们成为合伙人",-1),p("span",{class:""},"合作共赢",-1)],Te=p("div",{class:"flex font-normal pt-2 text-[#7B7D80] text-[10px]"}," 加入我们成为合伙人共同运营社区、合作双赢！ ",-1),He={class:"mt-5 bg-[#fff] p-5 dark:bg-[#24272e]"},Qe={class:"pt-5"},Ke={class:"pt-5"},We={class:"pt-5"},Je={class:"p-4 bg-white rounded dark:bg-slate-800"},Xe={class:"flex text-base mb-[20px] bg-currentflex items-center"},Ye=p("span",{class:"ml-[8px] mt-2"},"邀好友、赠套餐卡密、享充值返佣！",-1),Ze={class:"w-full flex mb-5 px-6"},ea=p("div",null,"复制",-1),aa={class:"flex justify-center items-center"},la={class:"flex flex-col p-5 justify-center"},ta=p("span",{class:"text-center"}," 1. 邀请好友双方都可享受一定额度的永久次卡奖励 ",-1),na={class:"text-center"},sa=l({__name:"index",setup(e){const a=m({distributionBalance:0,drawMoneyIn:0,id:0,inviteCount:0,inviteLinkCount:0,orderCount:0,performanceRatio:0,salesOutletName:"",totalAmount:0,withdrawalAmount:0}),l=m(!1),t=m(!1),n=m([]),s=m([]),r=F(),o=i((()=>r.globalConfig)),f=i((()=>{var e,a;return(null==(e=o.value)?void 0:e.salesBaseRatio)?Number(null==(a=o.value)?void 0:a.salesBaseRatio):10})),x=i((()=>{var e,a;return(null==(e=o.value)?void 0:e.salesSeniorRatio)?Number(null==(a=o.value)?void 0:a.salesSeniorRatio):10})),z=m(null),j=m("rec"),H=i((()=>r.userInfo.inviteCode)),Q=i((()=>{let e=`${window.location.protocol}//${window.location.hostname}`;return window.location.port&&(e+=`:${window.location.port}`),e})),X=i((()=>H.value?`${Q.value}?inVitecode=${H.value}`:"**************")),Z=g(),ee=m(null);R(),m([]);const le=m(null);m({pageSize:23});const te=m([]),ne=m(!1),sa=m(!1),ia=m(!1),ra=I({page:1,pageSize:10,itemCount:0,showSizePicker:!0,pageSizes:[10,20,50],onChange:e=>{ra.page=e,fa()},onUpdatePageSize:e=>{ra.pageSize=e,ra.page=1,fa()}}),oa=I({page:1,pageSize:10,itemCount:0,showSizePicker:!0,pageSizes:[10,20,50],onChange:e=>{oa.page=e,fa()},onUpdatePageSize:e=>{oa.pageSize=e,oa.page=1,fa()}}),ua=I({page:1,pageSize:10,itemCount:0,showSizePicker:!0,pageSizes:[10,20,50],onChange:e=>{ua.page=e,ha()},onUpdatePageSize:e=>{ua.pageSize=e,ua.page=1,ha()}}),da=m([{title:"订单金额",align:"center",orderPrice:"address",render:e=>`￥${e.orderPrice}元`},{align:"center",title:"商品类型",key:"tags",render:e=>"购买套餐"},{align:"center",title:"状态",key:"status",render:e=>u(P,{type:"success",size:"small",round:!0},(()=>"已入账"))},{align:"center",title:"佣金比例",key:"commissionAmount",render:e=>`${e.commissionPercentage}%`},{align:"center",title:"佣金",key:"commissionAmount",render:e=>`￥${e.commissionAmount}元`},{align:"center",title:"订购时间",key:"createdAt"}]);function ca(){j.value="drawMoney",pa(),ma()}async function pa(){const e=await v({url:"/sales/mineAccount"});a.value=e.data,console.log("inviteAccount",e.data)}function va(e){"drawMoney"===e&&ma(),"rec"===e&&fa(),"register"===e&&ha()}async function fa(){try{ne.value=!0;const a=await(e={page:ra.page,size:ra.pageSize},v({url:"/sales/mineRecords",data:e}));n.value=a.data.rows,ra.itemCount=a.data.count,ne.value=!1}catch(a){ne.value=!1}var e}async function ma(){try{sa.value=!0;const a=await(e={page:oa.page,size:oa.pageSize},v({url:"/sales/drawMoneyOrder",data:e}));oa.itemCount=a.data.count,s.value=a.data.rows,sa.value=!1}catch(a){sa.value=!1}var e}const ga=m([{title:"提现时间",key:"createdAt",align:"center"},{title:"提现金额",key:"withdrawalAmount",align:"center"},{title:"提现渠道",key:"withdrawalChannels",align:"center",render:e=>u(P,{type:1===e.withdrawalChannels?"info":"success",size:"small",round:!0},(()=>1===e.withdrawalChannels?"支付宝":"微信"))},{title:"提现状态",key:"paymentStatus",render:e=>u(P,{type:1===e.paymentStatus?"success":-1===e.paymentStatus?"error":"info",size:"small",round:!0},(()=>1===e.paymentStatus?"已打款":-1===e.paymentStatus?"被拒绝":"审核中"))},{title:"提现备注",key:"contactInformation",align:"center",render:e=>` ${(null==e?void 0:e.contactInformation)||"---"} `},{title:"审核人",key:"auditUserId",align:"center",render:e=>` ${(null==e?void 0:e.auditUserName)||"---"} `}]),xa=m([{title:"头像",align:"center",key:"avatar",render:e=>u(U,{src:e.avatar,round:!0,size:38,border:!0})},{align:"center",title:"用户名",key:"username"},{align:"center",title:"邮箱",key:"email"},{title:"受邀人状态",align:"center",key:"status",render:e=>u(P,{type:1===e.status?"success":"error",size:"small",round:!0},(()=>1===e.status?"已注册":"待激活"))},{title:"注册时间",align:"center",key:"createdAt"},{title:"最后登录",align:"center",key:"updatedAt"}]),{isMobile:ba,isSmallLg:wa}=B();async function ha(){try{ia.value=!0;const e=await $({page:ua.page,size:ua.pageSize});te.value=e.data.rows,ua.itemCount=e.data.count,ia.value=!1}catch(e){ia.value=!1}}function ya(){if(!H.value)return Z.error("请先申请你的邀请码");K({text:X.value}),Z.success("复制推荐链接成功");const e=ee.value,a=document.createRange(),l=window.getSelection();a.selectNodeContents(e),l.removeAllRanges(),l.addRange(a)}return N((()=>{var e;null==(e=le.value)||e.play(),pa(),fa()})),(e,i)=>{const o=S,u=D;return d(),c("div",ie,[h(u,{class:"!w-[96%] m-auto"},{default:b((()=>{var e,t,n,s,u,d,c;return[re,p("div",oe,[p("div",ue,[p("div",de,[h(E,{size:40}),p("span",ce,L((null==(e=a.value)?void 0:e.salesOutletName)||"新秀推荐官"),1)]),h(o,{onClick:i[0]||(i[0]=e=>l.value=!0),type:"primary",secondary:""},{default:b((()=>[pe])),_:1})]),p("div",ve,[p("div",fe,[p("span",me,[p("span",ge,L(null==(t=a.value)?void 0:t.totalAmount),1),xe]),be]),p("div",we,[p("span",he,[p("span",ye,L((null==(n=a.value)?void 0:n.distributionBalance)||0),1),ke]),ze]),p("div",Ce,[p("span",Se,[p("span",_e,L((null==(s=a.value)?void 0:s.drawMoneyIn)||0),1),je]),Ae])])]),p("div",Fe,[h(w(W),{class:"!w-full"},{default:b((()=>[h(o,null,{default:b((()=>[_(" 推广链接 ")])),_:1}),h(w(C),{placeholder:"推广链接",readonly:"",value:X.value,"onUpdate:value":i[1]||(i[1]=e=>X.value=e)},null,8,["value"]),h(o,{ghost:"",onClick:i[2]||(i[2]=()=>{H.value?ya():async function(){const e=await T();if(!e.data)return Z.error(e.message);Z.success("生成邀请码成功"),r.getUserInfo()}()})},{default:b((()=>[_(L(H.value?"复制":"申请"),1)])),_:1})])),_:1})]),p("div",{class:O(["flex w-full justify-between pt-[30px] font-bold",""+(w(ba)?"flex-col gap-2":"")])},[p("div",{class:O(["flex bg-[#F6FFED] dark:bg-[#353944] primaryRadius p-4 justify-between px-[25px]",""+(w(ba)?"w-[100%]":"w-[30%]")])},[Re,p("span",Ie,L((null==(u=a.value)?void 0:u.orderCount)||0),1)],2),p("div",{class:O(["flex bg-[#FFFAEE] dark:bg-[#353944] primaryRadius p-4 justify-between px-[25px]",""+(w(ba)?"w-[100%]":"w-[30%]")])},[Be,p("span",$e,L((null==(d=a.value)?void 0:d.inviteLinkCount)||0),1)],2),p("div",{class:O(["flex bg-[#FFF4F4] dark:bg-[#353944] primaryRadius p-4 justify-between px-[25px]",""+(w(ba)?"w-[100%]":"w-[30%]")])},[Ne,p("span",Me,L((null==(c=a.value)?void 0:c.inviteCount)||0),1)],2)],2),p("div",Pe,[Ue,p("div",{class:O(["flex w-full justify-between text-[12px]",(w(ba)?"flex-col gap-2":"")+" "])},[p("div",{class:O(["flex flex-col bg-[#F7F7FA] dark:bg-[#353944] primaryRadius p-4 justify-between px-[25px]",(w(ba)?"w-[100%]":"w-[30%]")+" "])},[p("div",{class:O(["flex justify-between",""+(w(wa)?"flex-col":"")])},[De,p("span",Ee,"佣金比例 "+L(f.value)+"%",1)],2),Le],2),p("div",{class:O(["flex flex-col bg-[#F7F7FA] dark:bg-[#353944] primaryRadius p-4 justify-between px-[25px]",""+(w(ba)?"flex-col gap-2":"w-[30%]")])},[p("div",{class:O(["flex justify-between",""+(w(wa)?"flex-col":"")])},[Oe,p("span",qe,"佣金比例 "+L(x.value)+"%",1)],2),Ve],2),p("div",{class:O(["flex flex-col bg-[#F7F7FA] dark:bg-[#353944] primaryRadius p-4 justify-between px-[25px]",""+(w(ba)?"w-[100%]":"w-[30%]")])},[p("div",{class:O(["flex justify-between",""+(w(wa)?"flex-col":"")])},Ge,2),Te],2)],2)])]})),_:1}),h(u,{class:"!w-[96%] m-auto",size:"small"},{default:b((()=>[p("div",He,[h(w(q),{ref_key:"tabRef",ref:z,value:j.value,"onUpdate:value":[i[3]||(i[3]=e=>j.value=e),va],"bar-width":338,animated:"","justify-content":"space-evenly",type:"segment"},{default:b((()=>[h(w(V),{name:"rec",tab:"推广记录"},{default:b((()=>[p("div",Qe,[h(w(J),{"min-width":200,loading:ne.value,remote:!0,"pagination-behavior-on-filter":"first",class:"min-h-[350px]",columns:da.value,data:n.value,pagination:ra,"scroll-x":700},null,8,["loading","columns","data","pagination"])])])),_:1}),h(w(V),{name:"drawMoney",tab:"提现记录"},{default:b((()=>[p("div",Ke,[h(w(J),{loading:sa.value,remote:!0,"pagination-behavior-on-filter":"first",class:"min-h-[350px]",columns:ga.value,data:s.value,pagination:oa,"scroll-x":500},null,8,["loading","columns","data","pagination"])])])),_:1}),h(w(V),{name:"register",tab:"邀请用户"},{default:b((()=>[p("div",We,[h(w(J),{loading:ia.value,remote:!0,"pagination-behavior-on-filter":"first",class:"min-h-[350px]",columns:xa.value,data:te.value,pagination:ua,"scroll-x":500},null,8,["loading","columns","data","pagination"])])])),_:1})])),_:1},8,["value"])])])),_:1}),M("",!0),h(se,{visible:l.value,onClose:i[6]||(i[6]=e=>l.value=!1),onSubmit:ca},null,8,["visible"]),h(w(A),{show:t.value,style:{width:"90%","max-width":"420px"}},{default:b((()=>[p("div",Je,[p("div",{class:"flex justify-between",onClick:i[7]||(i[7]=e=>t.value=!1)},[p("div",Xe,[h(w(k),{size:"22",color:"#0e7a0d"},{default:b((()=>[h(w(ae))])),_:1}),Ye]),h(w(k),{size:"20",color:"#0e7a0d",class:"cursor-pointer"},{default:b((()=>[h(w(y))])),_:1})]),p("div",Ze,[h(w(W),null,{default:b((()=>[h(w(Y),{size:"small"},{default:b((()=>[_(" 邀请链接 ")])),_:1}),h(w(C),{size:"small",style:{flex:1},value:X.value},null,8,["value"]),h(w(Y),{size:"small",onClick:ya},{default:b((()=>[ea])),_:1})])),_:1})]),p("div",aa,[h(G,{value:X.value,size:240},null,8,["value"])]),p("div",la,[ta,p("span",na," 2. 邀请好友充值，您可获得充值金额的"+L(f.value||10)+"%返佣 ",1)])])])),_:1},8,["show"])])}}});export{sa as default};
