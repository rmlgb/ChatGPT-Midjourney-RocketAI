import{d as F,U as $,r,O as J,I as P,y as Q,c as i,Q as j,o as s,e as b,h as l,i as t,g as n,N as S,k as I,m as G,J as W,K as x,L as p,l as m,w as H,t as X,M as Y,E as N,S as Z,z as ee,s as R}from"./index-a2cde0ca.js";import{A as k}from"./badWords-44370626.js";import{E as te}from"./index-f74fb548.js";const le=F({__name:"custom",setup(oe){const K=$(),V=r(),L=r(0),f=r(!1),u=J({word:"",status:"",page:1,size:500}),T=P(()=>K.settings.app.colorScheme),h=r([]);async function d(){try{f.value=!0;const a=await k.queryBadWords(u),{rows:o,count:v}=a.data;f.value=!1,L.value=v,h.value=o}catch{f.value=!1}}function U(a){a==null||a.resetFields(),d()}Q(()=>{d()});const c=r(""),_=r(!1),B=r();async function z(a){await k.delBadWords({id:a}),N.success("删除敏感词成功"),await d()}function A(){_.value=!0,Z(()=>{B.value.input.focus()})}async function C(){c.value&&(await k.addBadWords({word:c.value}),N.success("添加敏感词成功"),u.status="",await d()),_.value=!1,c.value=""}return(a,o)=>{const v=i("el-alert"),w=ee,y=i("el-form-item"),D=i("el-option"),M=i("el-select"),g=i("el-button"),E=i("el-form"),O=i("el-tag"),q=j("loading");return s(),b("div",null,[l(w,null,{default:t(()=>[l(v,{closable:!1,"show-icon":"",title:"敏感词说明",description:"当前为自定义敏感词、触发敏感词将自动拦截、如配置过三方平台、自定义检测将在三方平台通过后最后进行检测！",type:"success"})]),_:1}),l(w,null,{default:t(()=>[l(E,{ref_key:"formRef",ref:V,inline:!0,model:u},{default:t(()=>[l(y,{label:"敏感词",prop:"word"},{default:t(()=>[l(n(S),{modelValue:u.word,"onUpdate:modelValue":o[0]||(o[0]=e=>u.word=e),placeholder:"敏感词[模糊搜索]",onKeydown:I(G(d,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"])]),_:1}),l(y,{label:"敏感词状态",prop:"status"},{default:t(()=>[l(M,{modelValue:u.status,"onUpdate:modelValue":o[1]||(o[1]=e=>u.status=e),placeholder:"请选择敏感词状态",clearable:""},{default:t(()=>[(s(!0),b(W,null,x(n(te),e=>(s(),p(D,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(y,null,{default:t(()=>[l(g,{type:"primary",onClick:d},{default:t(()=>[m(" 查询 ")]),_:1}),l(g,{onClick:o[2]||(o[2]=e=>U(n(V)))},{default:t(()=>[m(" 重置 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),H((s(),p(w,{style:{width:"100%"}},{default:t(()=>[(s(!0),b(W,null,x(n(h),e=>(s(),p(O,{key:e.id,type:"warning",class:"mr-3 mb-3",closable:"",hit:"",effect:n(T),"disable-transitions":!0,onClose:ae=>z(e.id)},{default:t(()=>[m(X(e.word),1)]),_:2},1032,["effect","onClose"]))),128)),n(_)?(s(),p(n(S),{key:0,ref_key:"InputRef",ref:B,modelValue:n(c),"onUpdate:modelValue":o[3]||(o[3]=e=>Y(c)?c.value=e:null),class:"ml-1",style:{width:"80px"},size:"small",onKeyup:I(C,["enter"]),onBlur:C},null,8,["modelValue"])):(s(),p(g,{key:1,class:"ml-1",size:"small",onClick:A},{default:t(()=>[m(" + New Word ")]),_:1}))]),_:1})),[[q,n(f)]])])}}});typeof R=="function"&&R(le);export{le as default};
