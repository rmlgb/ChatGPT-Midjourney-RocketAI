import{d as B,O as w,r as f,y as R,c as s,o as h,e as v,h as e,i as l,f as y,l as q,P as p,E as g,z as O,s as b}from"./index-a2cde0ca.js";const U={class:"flex justify-between"},j=y("b",null,"COS参数设置",-1),E=B({__name:"cos",setup(N){const t=w({cosSecretId:"",cosSecretKey:"",cosBucket:"",cosRegion:""}),S=f({cosSecretKey:[{required:!0,trigger:"blur",message:"请填写SecretKey"}],cosBucket:[{required:!0,trigger:"blur",message:"请填写存储桶名称"}],cosRegion:[{required:!0,trigger:"blur",message:"请填写存储桶所属地域"}],cosSecretId:[{required:!0,trigger:"blur",message:"请填写SecretId"}]}),i=f();async function _(){const n=await p.queryConfig({keys:["cosSecretKey","cosBucket","cosRegion","cosSecretId"]});Object.assign(t,n.data)}function x(){var n;(n=i.value)==null||n.validate(async o=>{if(o){try{await p.setConfig({settings:V(t)}),g.success("变更配置信息成功")}catch{}_()}else g.error("请填写完整信息")})}function V(n){return Object.keys(n).map(o=>({configKey:o,configVal:n[o]}))}return R(()=>{_()}),(n,o)=>{const m=s("el-alert"),k=O,C=s("el-button"),a=s("el-input"),r=s("el-form-item"),u=s("el-col"),d=s("el-row"),I=s("el-form"),K=s("el-card");return h(),v("div",null,[e(k,null,{default:l(()=>[e(m,{closable:!1,"show-icon":"",title:"COS参数说明",description:"当前默认使用腾讯云COS对象存储、如果您有特殊的对接通道、将为您开放API对接！！",type:"success"})]),_:1}),e(K,{style:{margin:"20px"}},{header:l(()=>[y("div",U,[j,e(C,{class:"button",text:"",onClick:x},{default:l(()=>[q(" 保存设置 ")]),_:1})])]),default:l(()=>[e(I,{ref_key:"formRef",ref:i,rules:S.value,model:t,"label-width":"120px"},{default:l(()=>[e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"SecretId",prop:"cosSecretId"},{default:l(()=>[e(a,{modelValue:t.cosSecretId,"onUpdate:modelValue":o[0]||(o[0]=c=>t.cosSecretId=c),placeholder:"请填写SecretId",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"SecretKey",prop:"cosSecretKey"},{default:l(()=>[e(a,{modelValue:t.cosSecretKey,"onUpdate:modelValue":o[1]||(o[1]=c=>t.cosSecretKey=c),placeholder:"请填写SecretKey",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"存储桶名称",prop:"cosBucket"},{default:l(()=>[e(a,{modelValue:t.cosBucket,"onUpdate:modelValue":o[2]||(o[2]=c=>t.cosBucket=c),placeholder:"请填写存储桶名称",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(u,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"所属地域",prop:"cosRegion"},{default:l(()=>[e(a,{modelValue:t.cosRegion,"onUpdate:modelValue":o[3]||(o[3]=c=>t.cosRegion=c),placeholder:"请填写所属地域(ap-guangzhou)",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof b=="function"&&b(E);export{E as default};
