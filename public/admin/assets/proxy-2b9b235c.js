import{d as K,U as L,O as A,r as j,I as B,y as S,c as n,o as T,e as D,h as l,i as e,f as s,l as i,P as g,E as I,s as P}from"./index-a2cde0ca.js";import{_ as x}from"./WishEditor.vue_vue_type_script_setup_true_lang-af37067f.js";const E={class:"flex justify-between"},J=s("b",null,"MJ参数设置",-1),O=s("div",{style:{width:"600px"}}," 快速模式为fast模式、你可以配置专用通道、可以对接中转API或者midjourney-proxy-plus程序、我们会通过accountFilter的modes的方式帮你区分统一程序的不同通道 并发限制数量用于限制一个用户队列中过多的任务、用于平均资源、设置为0表示不限制、设置为-1表示禁用此功能、暂停开放绘图、设置正数表示正常开启！ ",-1),q=s("div",{style:{width:"600px"}}," 普通模式为relax模式、你可以配置专用通道、可以对接中转API或者midjourney-proxy-plus程序、我们会通过accountFilter的modes的方式帮你区分统一程序的不同通道 并发限制数量用于限制一个用户队列中过多的任务、用于平均资源、设置为0表示不限制、设置为-1表示禁用此功能、暂停开放绘图、设置正数表示正常开启！ ",-1),z=s("div",{style:{width:"600px"}}," Midjourney图片地址无法直接访问、请配置图片代理地址用于访问图片！ ",-1),Q=s("div",{style:{width:"600px"}}," 我们在绘图版本为你提供了一块区域用于展示你的公告内容、你可以填写md、html、富文本的方式插入此公告、告知用于使用当前模块的价格！ ",-1),R=K({__name:"proxy",setup($){const V=L(),o=A({mjTimeoutMs:"",fastMjProxyUrl:"",fastMjProxyKey:"",relaxMjProxyUrl:"",relaxMjProxyKey:"",fastMjLimitCount:null,relaxMjLimitCount:null,mjProxyImgUrl:"",mjNotifyImgUrl:"",mjNoticeInfo:"",mjChannel:"3",aiFaceNoticeInfo:"",blendNoticeInfo:"",dellDrawNoticeInfo:""}),U=j({}),b=j();async function M(){const m=await g.queryConfig({keys:["fastMjProxyUrl","fastMjProxyKey","relaxMjProxyUrl","relaxMjProxyKey","fastMjLimitCount","relaxMjLimitCount","mjProxyImgUrl","mjNotifyImgUrl","mjNoticeInfo","mjChannel","mjTimeoutMs","aiFaceNoticeInfo","blendNoticeInfo","dellDrawNoticeInfo"]});Object.assign(o,m.data)}function N(){var m;(m=b.value)==null||m.validate(async t=>{if(t){try{await g.setConfig({settings:w(o)}),I.success("变更配置信息成功")}catch{}M()}else I.error("请填写完整信息")})}function w(m){return Object.keys(m).map(t=>({configKey:t,configVal:m[t]}))}return B(()=>V.settings.app.colorScheme),j("/api/upload/file"),S(()=>{M()}),(m,t)=>{const h=n("el-button"),c=n("QuestionFilled"),_=n("el-icon"),p=n("el-tooltip"),f=n("el-input"),r=n("el-form-item"),d=n("el-col"),u=n("el-row"),C=n("el-divider"),y=n("el-radio"),v=n("el-radio-group"),k=n("el-form"),F=n("el-card");return T(),D("div",null,[l(F,{style:{margin:"20px"}},{header:e(()=>[s("div",E,[J,l(h,{class:"button",text:"",onClick:N},{default:e(()=>[i(" 保存设置 ")]),_:1})])]),default:e(()=>[l(k,{ref_key:"formRef",ref:b,rules:U.value,model:o,"label-width":"150px"},{default:e(()=>[s("h4",null,[i(" 快速通道API配置(支持对接中转API，但必须支持)"),l(p,{class:"box-item",effect:"dark",placement:"right"},{content:e(()=>[O]),default:e(()=>[l(_,{class:"ml-3 cursor-pointer"},{default:e(()=>[l(c)]),_:1})]),_:1})]),l(u,null,{default:e(()=>[l(d,{xs:24,md:20,lg:15,xl:12},{default:e(()=>[l(r,{label:"MJ绘画代理地址",prop:"fastMjProxyUrl","label-width":"150"},{default:e(()=>[l(f,{modelValue:o.fastMjProxyUrl,"onUpdate:modelValue":t[0]||(t[0]=a=>o.fastMjProxyUrl=a),placeholder:"https:**********bc.org",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(u,null,{default:e(()=>[l(d,{xs:24,md:20,lg:15,xl:12},{default:e(()=>[l(r,{label:"MJ秘钥信息",prop:"fastMjProxyKey","label-width":"150"},{default:e(()=>[l(f,{modelValue:o.fastMjProxyKey,"onUpdate:modelValue":t[1]||(t[1]=a=>o.fastMjProxyKey=a),placeholder:"sk-l0mBkOizVtdIuPP64**********74eF6B283E574EbCe1d70",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(u,null,{default:e(()=>[l(d,{xs:24,md:20,lg:15,xl:12},{default:e(()=>[l(r,{label:"单人绘图并发限制",prop:"fastMjLimitCount","label-width":"150"},{default:e(()=>[l(f,{modelValue:o.fastMjLimitCount,"onUpdate:modelValue":t[2]||(t[2]=a=>o.fastMjLimitCount=a),placeholder:"单人同时绘制限制数量、同一时间最多可以绘制几张！",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),s("h4",null,[i(" 普通通道API配置(支持对接中转API，但必须支持)"),l(p,{class:"box-item",effect:"dark",placement:"right"},{content:e(()=>[q]),default:e(()=>[l(_,{class:"ml-3 cursor-pointer"},{default:e(()=>[l(c)]),_:1})]),_:1})]),l(u,null,{default:e(()=>[l(d,{xs:24,md:20,lg:15,xl:12},{default:e(()=>[l(r,{label:"MJ绘画代理地址",prop:"relaxMjProxyUrl","label-width":"150"},{default:e(()=>[l(f,{modelValue:o.relaxMjProxyUrl,"onUpdate:modelValue":t[3]||(t[3]=a=>o.relaxMjProxyUrl=a),placeholder:"https:/**********eabc.org",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(u,null,{default:e(()=>[l(d,{xs:24,md:20,lg:15,xl:12},{default:e(()=>[l(r,{label:"MJ秘钥信息",prop:"relaxMjProxyKey","label-width":"150"},{default:e(()=>[l(f,{modelValue:o.relaxMjProxyKey,"onUpdate:modelValue":t[4]||(t[4]=a=>o.relaxMjProxyKey=a),placeholder:"AFA5**********IBSV",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(u,null,{default:e(()=>[l(d,{xs:24,md:20,lg:15,xl:12},{default:e(()=>[l(r,{label:"单人绘图并发限制",prop:"relaxMjLimitCount","label-width":"150"},{default:e(()=>[l(f,{modelValue:o.relaxMjLimitCount,"onUpdate:modelValue":t[5]||(t[5]=a=>o.relaxMjLimitCount=a),placeholder:"单人同时绘制限制数量、同一时间最多可以绘制几张！",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(C),s("h4",null,[i(" 图片代理地址"),l(p,{class:"box-item",effect:"dark",placement:"right"},{content:e(()=>[z]),default:e(()=>[l(_,{class:"ml-3 cursor-pointer"},{default:e(()=>[l(c)]),_:1})]),_:1})]),s("h4",null,[i(" 绘图基础配置（必填）"),l(p,{class:"box-item",effect:"dark",placement:"right"})]),l(u,null,{default:e(()=>[l(d,{xs:24,md:20,lg:15,xl:12},{default:e(()=>[l(r,{label:"默认打开通道",prop:"mjChannel","label-width":"150"},{default:e(()=>[l(v,{modelValue:o.mjChannel,"onUpdate:modelValue":t[6]||(t[6]=a=>o.mjChannel=a),size:"small"},{default:e(()=>[l(y,{value:"0",border:""},{default:e(()=>[i(" 快速通道 ")]),_:1}),l(y,{value:"1",border:""},{default:e(()=>[i(" 普通通道 ")]),_:1}),l(y,{value:"2",border:""},{default:e(()=>[i(" 默认通道 ")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(d,{xs:24,md:20,lg:15,xl:12},{default:e(()=>[l(r,{label:"绘画超时设置",prop:"mjTimeoutMs","label-width":"150"},{default:e(()=>[l(f,{modelValue:o.mjTimeoutMs,"onUpdate:modelValue":t[7]||(t[7]=a=>o.mjTimeoutMs=a),placeholder:""},{suffix:e(()=>[i(" 秒 ")]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),s("h4",null,[i(" 绘图模块公告（扣款提示）"),l(p,{class:"box-item",effect:"dark",placement:"right"},{content:e(()=>[Q]),default:e(()=>[l(_,{class:"ml-3 cursor-pointer"},{default:e(()=>[l(c)]),_:1})]),_:1})]),l(u,null,{default:e(()=>[l(d,{span:24},{default:e(()=>[l(r,{label:"绘图公告",prop:"mjNoticeInfo"},{default:e(()=>[l(x,{html:o.mjNoticeInfo,"onUpdate:html":t[8]||(t[8]=a=>o.mjNoticeInfo=a)},null,8,["html"])]),_:1})]),_:1})]),_:1}),l(u,null,{default:e(()=>[l(d,{span:24},{default:e(()=>[l(r,{label:"换脸公告",prop:"aiFaceNoticeInfo"},{default:e(()=>[l(x,{html:o.aiFaceNoticeInfo,"onUpdate:html":t[9]||(t[9]=a=>o.aiFaceNoticeInfo=a)},null,8,["html"])]),_:1})]),_:1})]),_:1}),l(u,null,{default:e(()=>[l(d,{span:24},{default:e(()=>[l(r,{label:"混图公告",prop:"blendNoticeInfo"},{default:e(()=>[l(x,{html:o.blendNoticeInfo,"onUpdate:html":t[10]||(t[10]=a=>o.blendNoticeInfo=a)},null,8,["html"])]),_:1})]),_:1})]),_:1}),l(u,null,{default:e(()=>[l(d,{span:24},{default:e(()=>[l(r,{label:"解析公告",prop:"dellDrawNoticeInfo"},{default:e(()=>[l(x,{html:o.dellDrawNoticeInfo,"onUpdate:html":t[11]||(t[11]=a=>o.dellDrawNoticeInfo=a)},null,8,["html"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof P=="function"&&P(R);export{R as default};
