import{d as I,U as M,O as T,r as d,I as U,y as k,c as a,o as A,e as h,h as e,i as l,f as x,l as q,P as g,E as b,z as D,s as y}from"./index-a2cde0ca.js";/* empty css              */import{_ as j}from"./WishEditor.vue_vue_type_script_setup_true_lang-af37067f.js";const E={class:"flex justify-between"},O=x("b",null,"分销系统基础设置",-1),K=I({__name:"base",setup($){const w=M(),s=T({salesBaseRatio:10,salesSeniorRatio:30,salesAllowDrawMoney:10,salesBaseTitle:"新秀分销商",salesNoticeInfo:""}),V=d({salesBaseRatio:[{required:!0,trigger:"blur",message:"请填写默认佣金比例"}],salesSeniorRatio:[{required:!0,trigger:"blur",message:"请填写高级代理默认比例"}],salesBaseTitle:[{required:!0,trigger:"blur",message:"请填写默认用户推介等级名称"}]}),m=d();async function c(){const n=await g.queryConfig({keys:["salesNoticeInfo","salesBaseRatio","salesSeniorRatio","salesAllowDrawMoney","salesBaseTitle"]});Object.assign(s,n.data)}function B(){var n;(n=m.value)==null||n.validate(async t=>{if(t){try{await g.setConfig({settings:R(s)}),b.success("变更配置信息成功")}catch{}c()}else b.error("请填写完整信息")})}function R(n){return Object.keys(n).map(t=>({configKey:t,configVal:n[t]}))}return U(()=>w.settings.app.colorScheme),d("/api/upload/file"),k(()=>{c()}),(n,t)=>{const f=a("el-alert"),S=D,C=a("el-button"),p=a("el-input-number"),r=a("el-form-item"),i=a("el-col"),u=a("el-row"),_=a("el-input"),N=a("el-form"),v=a("el-card");return A(),h("div",null,[e(S,null,{default:l(()=>[e(f,{closable:!1,"show-icon":"",title:"分销系统基础配置",description:"填写默认佣金比例和高级分销佣金比例会对应显示到客户端的分销页面、同时新用户将使用默认分销比例、允许提现额度限制用户最低提现金额、分销名称同样对应分销页面、高级代理可自定义名称！",type:"success"})]),_:1}),e(v,{style:{margin:"20px"}},{header:l(()=>[x("div",E,[O,e(C,{class:"button",text:"",onClick:B},{default:l(()=>[q(" 保存设置 ")]),_:1})])]),default:l(()=>[e(N,{ref_key:"formRef",ref:m,model:s,"label-width":"140px",rules:V.value},{default:l(()=>[e(u,null,{default:l(()=>[e(i,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"默认分销佣金比例",prop:"salesBaseRatio"},{default:l(()=>[e(p,{modelValue:s.salesBaseRatio,"onUpdate:modelValue":t[0]||(t[0]=o=>s.salesBaseRatio=o),max:100,min:0,step:5,"step-strictly":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(i,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"高级分销佣金比例",prop:"salesSeniorRatio"},{default:l(()=>[e(p,{modelValue:s.salesSeniorRatio,"onUpdate:modelValue":t[1]||(t[1]=o=>s.salesSeniorRatio=o),max:100,min:0,step:5,"step-strictly":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(i,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"允许最低提现金额",prop:"salesAllowDrawMoney"},{default:l(()=>[e(_,{modelValue:s.salesAllowDrawMoney,"onUpdate:modelValue":t[2]||(t[2]=o=>s.salesAllowDrawMoney=o),type:"number","step-strictly":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(i,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"默认等级分销名称",prop:"salesBaseTitle"},{default:l(()=>[e(_,{modelValue:s.salesBaseTitle,"onUpdate:modelValue":t[3]||(t[3]=o=>s.salesBaseTitle=o),placeholder:"请填写SecretKey",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,null,{default:l(()=>[e(i,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(r,{label:"分销公告",prop:"salesNoticeInfo"},{default:l(()=>[e(j,{html:s.salesNoticeInfo,"onUpdate:html":t[4]||(t[4]=o=>s.salesNoticeInfo=o)},null,8,["html"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})])}}});typeof y=="function"&&y(K);export{K as default};
