import{_ as w}from"./WishEditor.vue_vue_type_script_setup_true_lang-af37067f.js";import{d as I,U as k,O as S,r as a,I as q,y as B,c as l,o as M,e as U,h as o,i as n,f as _,l as V,P as f,E as u,s as m}from"./index-a2cde0ca.js";/* empty css              */const j={class:"flex justify-between"},E=_("b",null,"客户端显示设置",-1),O=I({__name:"gallery",setup(H){const d=k(),r=S({galleryNoticeInfo:""}),p=a({appMenuHeaderTips:[{required:!0,trigger:"blur",message:"填写应用市场的提示语"}],appMenuHeaderBgUrl:[{required:!0,trigger:"blur",message:"请填写应用市场头部背景图地址"}]}),s=a();async function c(){const e=await f.queryConfig({keys:["galleryNoticeInfo"]});Object.assign(r,e.data)}function g(){var e;(e=s.value)==null||e.validate(async t=>{if(t){try{await f.setConfig({settings:y(r)}),u.success("变更配置信息成功")}catch{}c()}else u.error("请填写完整信息")})}function y(e){return Object.keys(e).map(t=>({configKey:t,configVal:e[t]}))}return q(()=>d.settings.app.colorScheme),a("/api/upload/file"),B(()=>{c()}),(e,t)=>{const i=l("el-button"),b=l("el-form-item"),h=l("el-col"),x=l("el-row"),C=l("el-form"),N=l("el-card");return M(),U("div",null,[o(N,{style:{margin:"20px"}},{header:n(()=>[_("div",j,[E,o(i,{class:"button",text:"",onClick:g},{default:n(()=>[V(" 保存公告 ")]),_:1})])]),default:n(()=>[o(C,{ref_key:"formRef",ref:s,rules:p.value,model:r,"label-width":"150px"},{default:n(()=>[o(x,null,{default:n(()=>[o(h,{xs:24,md:20,lg:15,xl:12},{default:n(()=>[o(b,{label:"套餐公告",prop:"galleryNoticeInfo"},{default:n(()=>[o(w,{html:r.galleryNoticeInfo,"onUpdate:html":t[0]||(t[0]=v=>r.galleryNoticeInfo=v)},null,8,["html"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof m=="function"&&m(O);export{O as default};
