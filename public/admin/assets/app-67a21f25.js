import{d as k,U as S,O as U,r as l,I as q,y as B,c as a,o as M,e as V,h as e,i as o,f as _,l as j,P as p,E as f,z as E,s as u}from"./index-a2cde0ca.js";/* empty css              */import{_ as O}from"./WishEditor.vue_vue_type_script_setup_true_lang-af37067f.js";const H={class:"flex justify-between"},R=_("b",null,"客户端显示设置",-1),T=k({__name:"app",setup($){const m=S(),s=U({appNoticeInfo:""}),d=l({appMenuHeaderTips:[{required:!0,trigger:"blur",message:"填写应用市场的提示语"}],appMenuHeaderBgUrl:[{required:!0,trigger:"blur",message:"请填写应用市场头部背景图地址"}]}),r=l();async function c(){const t=await p.queryConfig({keys:["appNoticeInfo"]});Object.assign(s,t.data)}function g(){var t;(t=r.value)==null||t.validate(async n=>{if(n){try{await p.setConfig({settings:b(s)}),f.success("变更配置信息成功")}catch{}c()}else f.error("请填写完整信息")})}function b(t){return Object.keys(t).map(n=>({configKey:n,configVal:t[n]}))}return q(()=>m.settings.app.colorScheme),l("/api/upload/file"),B(()=>{c()}),(t,n)=>{const i=a("el-alert"),y=E,h=a("el-button"),x=a("el-form-item"),w=a("el-col"),C=a("el-row"),I=a("el-form"),N=a("el-card");return M(),V("div",null,[e(y,null,{default:o(()=>[e(i,{closable:!1,"show-icon":"",title:"客户端UI设置",description:"对于用户端各个模块的显隐控制、具体显示部分参考提示！app",type:"success"})]),_:1}),e(N,{style:{margin:"20px"}},{header:o(()=>[_("div",H,[R,e(h,{class:"button",text:"",onClick:g},{default:o(()=>[j(" 保存设置 ")]),_:1})])]),default:o(()=>[e(I,{ref_key:"formRef",ref:r,rules:d.value,model:s,"label-width":"150px"},{default:o(()=>[e(C,null,{default:o(()=>[e(w,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(x,{label:"套餐公告",prop:"appNoticeInfo"},{default:o(()=>[e(O,{html:s.appNoticeInfo,"onUpdate:html":n[0]||(n[0]=v=>s.appNoticeInfo=v)},null,8,["html"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof u=="function"&&u(T);export{T as default};
