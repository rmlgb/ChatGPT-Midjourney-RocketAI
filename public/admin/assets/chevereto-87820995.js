import{d as S,O as k,r as P,I as N,y as j,c as a,o as q,e as A,h as e,i as t,f as y,l as B,g as f,P as h,E as v,z as E,s as g}from"./index-a2cde0ca.js";const O={class:"flex justify-between"},R=y("b",null,"chevereto图床参数设置",-1),I=S({__name:"chevereto",setup(M){const l=k({cheveretoStatus:"",cheveretoUploadPath:"",cheveretoKey:""}),d=P();async function i(){const n=await h.queryConfig({keys:["cheveretoKey","cheveretoUploadPath","cheveretoStatus"]});Object.assign(l,n.data)}function b(){var n;(n=d.value)==null||n.validate(async o=>{if(o){try{await h.setConfig({settings:x(l)}),v.success("变更配置信息成功")}catch{}i()}else v.error("请填写完整信息")})}function x(n){return Object.keys(n).map(o=>({configKey:o,configVal:n[o]}))}const _=N(()=>[{required:Number(l.cheveretoStatus)===1,message:"开启配置后请填写此项",trigger:"change"}]);return j(()=>{i()}),(n,o)=>{const p=a("el-alert"),V=E,w=a("el-button"),U=a("el-switch"),c=a("el-form-item"),r=a("el-col"),u=a("el-row"),m=a("el-input"),C=a("el-form"),K=a("el-card");return q(),A("div",null,[e(V,null,{default:t(()=>[e(p,{closable:!1,"show-icon":"",title:"chevereto图床配置说明",description:"chevereto图床官方文档 https://v4-docs.chevereto.com/developer/api/api-v1.html 同时开启多个存储会以菜单排序优先级开启使用",type:"success"})]),_:1}),e(K,{style:{margin:"20px"}},{header:t(()=>[y("div",O,[R,e(w,{class:"button",text:"",onClick:b},{default:t(()=>[B(" 保存设置 ")]),_:1})])]),default:t(()=>[e(C,{ref_key:"formRef",ref:d,model:l,"label-width":"100px"},{default:t(()=>[e(u,null,{default:t(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:t(()=>[e(c,{label:"服务启用状态",prop:"cheveretoStatus"},{default:t(()=>[e(U,{modelValue:l.cheveretoStatus,"onUpdate:modelValue":o[0]||(o[0]=s=>l.cheveretoStatus=s),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:t(()=>[e(c,{label:"上传地址",prop:"cheveretoUploadPath",rules:f(_)},{default:t(()=>[e(m,{modelValue:l.cheveretoUploadPath,"onUpdate:modelValue":o[1]||(o[1]=s=>l.cheveretoUploadPath=s),placeholder:"请填写您的图床上传地址",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(r,{xs:24,md:20,lg:15,xl:12},{default:t(()=>[e(c,{label:"ApiKey",prop:"cheveretoKey",rules:f(_)},{default:t(()=>[e(m,{modelValue:l.cheveretoKey,"onUpdate:modelValue":o[2]||(o[2]=s=>l.cheveretoKey=s),placeholder:"请填写ApiKey",clearable:""},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}});typeof g=="function"&&g(I);export{I as default};
