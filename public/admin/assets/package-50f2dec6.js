import{d as v,U as S,O as U,r as l,I as q,y as B,c as a,o as M,e as V,h as e,i as o,f as _,l as j,P as f,E as p,z as E,s as u}from"./index-a2cde0ca.js";import{_ as O}from"./WishEditor.vue_vue_type_script_setup_true_lang-af37067f.js";/* empty css              */const H={class:"flex justify-between"},R=_("b",null,"客户端显示设置",-1),T=v({__name:"package",setup($){const m=S(),s=U({packageNoticeInfo:""}),d=l({appMenuHeaderTips:[{required:!0,trigger:"blur",message:"填写应用市场的提示语"}],appMenuHeaderBgUrl:[{required:!0,trigger:"blur",message:"请填写应用市场头部背景图地址"}]}),c=l();async function r(){const t=await f.queryConfig({keys:["packageNoticeInfo"]});Object.assign(s,t.data)}function g(){var t;(t=c.value)==null||t.validate(async n=>{if(n){try{await f.setConfig({settings:b(s)}),p.success("变更配置信息成功")}catch{}r()}else p.error("请填写完整信息")})}function b(t){return Object.keys(t).map(n=>({configKey:n,configVal:t[n]}))}return q(()=>m.settings.app.colorScheme),l("/api/upload/file"),B(()=>{r()}),(t,n)=>{const i=a("el-alert"),y=E,h=a("el-button"),k=a("el-form-item"),x=a("el-col"),w=a("el-row"),C=a("el-form"),I=a("el-card");return M(),V("div",null,[e(y,null,{default:o(()=>[e(i,{closable:!1,"show-icon":"",title:"客户端UI设置",description:"对于用户端各个模块的显隐控制、具体显示部分参考提示！app",type:"success"})]),_:1}),e(I,{style:{margin:"20px"}},{header:o(()=>[_("div",H,[R,e(h,{class:"button",text:"",onClick:g},{default:o(()=>[j(" 保存设置 ")]),_:1})])]),default:o(()=>[e(C,{ref_key:"formRef",ref:c,rules:d.value,model:s,"label-width":"150px"},{default:o(()=>[e(w,null,{default:o(()=>[e(x,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(k,{label:"画廊公告",prop:"packageNoticeInfo"},{default:o(()=>[e(O,{html:s.packageNoticeInfo,"onUpdate:html":n[0]||(n[0]=N=>s.packageNoticeInfo=N)},null,8,["html"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof u=="function"&&u(T);export{T as default};
