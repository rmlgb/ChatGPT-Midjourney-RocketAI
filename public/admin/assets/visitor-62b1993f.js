import{d as h,O as k,r as f,y as J,c as r,o as q,e as U,h as e,i as l,f as b,l as j,P as p,E as v,z as B,s as g}from"./index-a2cde0ca.js";const E={class:"flex justify-between"},O=b("b",null,"访客模式设置",-1),R=h({__name:"visitor",setup(z){const t=k({visitorModel3Num:null,visitorModel4Num:null,visitorMJNum:null}),N=f({visitorModel3Num:[{required:!0,trigger:"blur",message:"请填写每日限制的基础模型积分"}],visitorModel4Num:[{required:!0,trigger:"blur",message:"请填写每日限制的高级模型积分"}],visitorMJNum:[{required:!0,trigger:"blur",message:"请填写每日限制的绘画额度积分"}]}),m=f();async function c(){const n=await p.queryConfig({keys:["visitorModel4Num","visitorModel3Num","visitorMJNum"]});Object.assign(t,n.data)}function M(){var n;(n=m.value)==null||n.validate(async o=>{if(o){try{await p.setConfig({settings:y(t)}),v.success("变更配置信息成功")}catch{}c()}else v.error("请填写完整信息")})}function y(n){return Object.keys(n).map(o=>({configKey:o,configVal:n[o]}))}return J(()=>{c()}),(n,o)=>{const _=r("el-alert"),x=B,V=r("el-button"),a=r("el-input"),u=r("el-form-item"),i=r("el-col"),d=r("el-row"),w=r("el-form"),C=r("el-card");return q(),U("div",null,[e(x,null,{default:l(()=>[e(_,{closable:!1,"show-icon":"",title:"访客模式设置",description:"设置为每日访客限制的访问积分额度、每日凌晨0点刷新新的额度！",type:"success"})]),_:1}),e(C,{style:{margin:"20px"}},{header:l(()=>[b("div",E,[O,e(V,{class:"button",text:"",onClick:M},{default:l(()=>[j(" 保存设置 ")]),_:1})])]),default:l(()=>[e(w,{ref_key:"formRef",ref:m,rules:N.value,model:t,"label-width":"130px"},{default:l(()=>[e(d,null,{default:l(()=>[e(i,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(u,{label:"基础模型额度",prop:"visitorModel3Num"},{default:l(()=>[e(a,{modelValue:t.visitorModel3Num,"onUpdate:modelValue":o[0]||(o[0]=s=>t.visitorModel3Num=s),type:"number",placeholder:"请填写每日限制基础模型积分",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(i,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(u,{label:"高级模型额度",prop:"visitorModel4Num"},{default:l(()=>[e(a,{modelValue:t.visitorModel4Num,"onUpdate:modelValue":o[1]||(o[1]=s=>t.visitorModel4Num=s),type:"number",placeholder:"请填写每日限制的高级模型积分",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(d,null,{default:l(()=>[e(i,{xs:24,md:20,lg:15,xl:12},{default:l(()=>[e(u,{label:"绘画积分额度",prop:"visitorMJNum"},{default:l(()=>[e(a,{modelValue:t.visitorMJNum,"onUpdate:modelValue":o[2]||(o[2]=s=>t.visitorMJNum=s),type:"number",placeholder:"请填写每日限制的绘画额度积分",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof g=="function"&&g(R);export{R as default};
