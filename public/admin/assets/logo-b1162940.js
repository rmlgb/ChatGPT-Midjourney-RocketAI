import{d as q,O as H,r as _,y as N,c as a,o as p,e as g,h as t,i as l,f as y,l as h,J as E,K as G,t as S,P as b,E as P,z as U,s as L}from"./index-a2cde0ca.js";const B={class:"flex justify-between"},J=y("b",null,"客户端动态菜单设置参数设置",-1),z=q({__name:"logo",setup(D){const v=[{label:"ChatGpt聊天",path:"/chat"},{label:"Dall-E绘画",path:"/draw"},{label:"Midjourney绘画",path:"/midjourney"},{label:"mj公共预览页",path:"/market"},{label:"mind思维导图",path:"/mind"},{label:"应用广场",path:"/app-store"},{label:"不指定首页",path:""}],n=H({clientMenuList:[],clientHomePath:"",clientLogoPath:"",clientFavoIconPath:""}),x=_({clientHomePath:[{required:!1,trigger:"change",message:"请选择项目默认主页地址"}],clientMenuList:[{required:!1,trigger:"change",message:"请选择客户端开放的菜单"}],clientLogoPath:[{required:!1,trigger:"blur",message:"请填写您的网站LOGO图片链接"}],clientFavoIconPath:[{required:!1,trigger:"blur",message:"请填写您的网站favorit.ico网站logo地址"}]}),u=_();async function d(){const o=await b.queryConfig({keys:["clientHomePath","clientMenuList","clientLogoPath","clientFavoIconPath"]}),e=o.data;e.clientMenuList=e.clientMenuList?JSON.parse(e.clientMenuList):[],Object.assign(n,o.data)}function V(){var o;(o=u.value)==null||o.validate(async e=>{if(e){try{await b.setConfig({settings:O(n)}),P.success("变更配置信息成功")}catch{}d()}else P.error("请填写完整信息")})}function M(o,e){if(["clientMenuList"].includes(o)){if(!e)return[];if(e)return JSON.stringify(e)}else return e}function O(o){return Object.keys(o).map(e=>({configKey:e,configVal:M(e,o[e])}))}return N(()=>{d()}),(o,e)=>{const m=a("el-alert"),C=U,w=a("el-button"),k=a("el-radio"),F=a("el-radio-group"),i=a("el-form-item"),r=a("el-col"),c=a("el-row"),f=a("el-input"),I=a("el-form"),j=a("el-card");return p(),g("div",null,[t(C,null,{default:l(()=>[t(m,{closable:!1,"show-icon":"",title:"动态菜单配置说明",description:"动态菜单继承到下方、用户端logo配置在客户端左上角、ico为网站图标请使用svg格式、可以在线转格式！",type:"success"})]),_:1}),t(j,{style:{margin:"20px"}},{header:l(()=>[y("div",B,[J,t(w,{class:"button",text:"",onClick:V},{default:l(()=>[h(" 保存设置 ")]),_:1})])]),default:l(()=>[t(I,{ref_key:"formRef",ref:u,rules:x.value,model:n,"label-width":"130px"},{default:l(()=>[t(c,null,{default:l(()=>[t(r,{xs:24,md:24,lg:24,xl:24},{default:l(()=>[t(i,{label:"设置指定首页",prop:"clientHomePath"},{default:l(()=>[t(F,{modelValue:n.clientHomePath,"onUpdate:modelValue":e[0]||(e[0]=s=>n.clientHomePath=s)},{default:l(()=>[(p(),g(E,null,G(v,s=>t(k,{key:s.path,size:"small",border:"",value:s.path},{default:l(()=>[h(S(s.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(c,null,{default:l(()=>[t(r,{xs:24,md:24,lg:24,xl:24},{default:l(()=>[t(i,{label:"用户端LOGO",prop:"clientLogoPath"},{default:l(()=>[t(f,{modelValue:n.clientLogoPath,"onUpdate:modelValue":e[1]||(e[1]=s=>n.clientLogoPath=s),placeholder:"请填写您要设置的网站LOGO图片链接",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(c,null,{default:l(()=>[t(r,{xs:24,md:24,lg:24,xl:24},{default:l(()=>[t(i,{label:"用户端ico",prop:"clientFavoIconPath"},{default:l(()=>[t(f,{modelValue:n.clientFavoIconPath,"onUpdate:modelValue":e[2]||(e[2]=s=>n.clientFavoIconPath=s),placeholder:"请填写您要设置的网站ico地址、格式为svg",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof L=="function"&&L(z);export{z as default};
