import{d as C,U as w,O as b,r as i,y as h,c as n,o as P,L as U,i as t,f as _,h as l,l as k,P as f,E as m,s as u}from"./index-a2cde0ca.js";import{_ as v}from"./WishEditor.vue_vue_type_script_setup_true_lang-af37067f.js";const D={class:"flex justify-between"},K=_("b",null,"解析公告设置",-1),L=C({__name:"drawNotice",setup(V){w();const a=b({mjTimeoutMs:"",fastMjProxyUrl:"",fastMjProxyKey:"",relaxMjProxyUrl:"",relaxMjProxyKey:"",fastMjLimitCount:null,relaxMjLimitCount:null,mjProxyImgUrl:"",mjNotifyImgUrl:"",mjNoticeInfo:"",mjChannel:"3",aiFaceNoticeInfo:"",blendNoticeInfo:"",dellDrawNoticeInfo:""}),d=i({}),r=i();async function s(){const e=await f.queryConfig({keys:["fastMjProxyUrl","fastMjProxyKey","relaxMjProxyUrl","relaxMjProxyKey","fastMjLimitCount","relaxMjLimitCount","mjProxyImgUrl","mjNotifyImgUrl","mjNoticeInfo","mjChannel","mjTimeoutMs","aiFaceNoticeInfo","blendNoticeInfo","dellDrawNoticeInfo"]});Object.assign(a,e.data)}function y(){var e;(e=r.value)==null||e.validate(async o=>{if(o){try{await f.setConfig({settings:j(a)}),m.success("变更配置信息成功")}catch{}s()}else m.error("请填写完整信息")})}function j(e){return Object.keys(e).map(o=>({configKey:o,configVal:e[o]}))}return h(()=>{s()}),(e,o)=>{const c=n("el-button"),p=n("el-form-item"),x=n("el-col"),N=n("el-row"),I=n("el-form"),M=n("el-card");return P(),U(M,null,{header:t(()=>[_("div",D,[K,l(c,{class:"button",text:"",onClick:y},{default:t(()=>[k(" 保存公告 ")]),_:1})])]),default:t(()=>[l(I,{ref_key:"formRef",ref:r,rules:d.value,model:a,"label-width":"150px"},{default:t(()=>[l(N,null,{default:t(()=>[l(x,{span:24},{default:t(()=>[l(p,{label:"解析公告",prop:"dellDrawNoticeInfo"},{default:t(()=>[l(v,{html:a.dellDrawNoticeInfo,"onUpdate:html":o[0]||(o[0]=g=>a.dellDrawNoticeInfo=g)},null,8,["html"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})}}});typeof u=="function"&&u(L);export{L as default};
