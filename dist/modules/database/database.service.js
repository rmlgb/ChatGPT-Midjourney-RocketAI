'use strict';function _0x16dd(){const _0x34494b=['invitedGuestSendModel3Count','registerSuccessEmailTeamName','19024441','272408TOLaSp','1YPUDoi','checkSuperAdmin','@nestjs/common','firstRegisterSendRank','function','userDefautlAvatar','初始化创建','rocket','RocKetTeam团队账号激活成功','count','metadata','Connection','vxNumber','INSERT\x20INTO\x20users\x20(username,\x20password,\x20status,\x20email,\x20role)\x20VALUES\x20(\x27','connection','baiduSiteId','Logger','registerSuccessEmaileAppend','INSERT\x20INTO\x20balance\x20(userId,\x20balance,\x20usesLeft,\x20paintCount)\x20VALUES\x20(\x27','inviteGiveSendModel3Count','createDefaultUser','hashSync','registerSendStatus','log','registerSendModel4Count','\x27,\x20\x27','onModuleInit','RocKetTeam账号激活失败','noticeInfo','INTERNAL_SERVER_ERROR','qqNumber','defineProperty','length','error:\x20','5453735XLJsKp','robotAvatar','registerFailEmailTeamName','buyCramiAddress','createBaseSiteConfig','1502002PeICFM','https://api.openai.com','inviteSendStatus','INSERT\x20INTO\x20config\x20(configKey,\x20configVal,\x20public,\x20encry)\x20VALUES\x20','SELECT\x20*\x20FROM\x20users\x20WHERE\x20role\x20=\x20\x27super\x27','1800','map','design:paramtypes','欢迎使用RocKet\x20Team团队的产品服务,请在五分钟内完成你的账号激活,点击以下按钮激活您的账号，','bcryptjs','configKey','baiduCode','19282144QJPkub','500','siteName','object','firstRegisterSendStatus','isVerifyEmail','__esModule','super','invitedGuestSendModel4Count','HttpException','invitedGuestSendDrawMjCount','RocKetTeam团队账号验证','HttpStatus','创建默认超级管理员失败！','registerSuccessEmailTitle','123456','firstRregisterSendModel3Count','decorate',']、初始密码为[','default@cooper.com','registerSendModel3Count','2544936accgBD','typeorm','DatabaseService','\x0a####\x20RocKetAi\x20欢迎您\x0a\x20-\x20欢迎使用RocKet\x0a\x20-\x20初始管理员账号密码\x20\x20rocket\x20\x20123456\x20【前台后台登录都可以修改】\x0a\x20-\x20初始预览账号密码\x20\x20admin\x20\x20rocket-admin\x20【为后台查看账号\x20仅可查看部分非敏感数据】\x0a','创建默认网站配置失败！','4084452xxGphJ','RocKet\x20Ai','RocKetTeam团队','registerSendDrawMjCount','inviteGiveSendModel4Count','https://public-1300678944.cos.ap-shanghai.myqcloud.com/blog/1682571295452image.png','admin','join','query','121.a1600b9b60910feea2ef627ea9776a6f.YGP_CWCOA2lNcIGJ27BwXGxa6nZhBQyLUS4XVaD.TWt9TA','firstRregisterSendModel4Count','3316470klTnHv','用户成功、用户名为[','\x27,\x200,\x201000,\x20100)','__decorate','checkSiteBaseConfig','\x0a\x20\x20SELECT\x20COUNT(*)\x20AS\x20count\x20FROM\x20config\x20WHERE\x20`configKey`\x20IN\x20('];_0x16dd=function(){return _0x34494b;};return _0x16dd();}const _0x483a28=_0x5bf1;(function(_0x1b7dad,_0x22d023){const _0x53fc9b=_0x5bf1,_0x4f5d20=_0x1b7dad();while(!![]){try{const _0x24d0a5=-parseInt(_0x53fc9b(0xba))/0x1*(parseInt(_0x53fc9b(0x7f))/0x2)+parseInt(_0x53fc9b(0xa0))/0x3+parseInt(_0x53fc9b(0xb9))/0x4+-parseInt(_0x53fc9b(0xb0))/0x5+-parseInt(_0x53fc9b(0xa5))/0x6+-parseInt(_0x53fc9b(0x7a))/0x7+parseInt(_0x53fc9b(0x8b))/0x8;if(_0x24d0a5===_0x22d023)break;else _0x4f5d20['push'](_0x4f5d20['shift']());}catch(_0x5ca41d){_0x4f5d20['push'](_0x4f5d20['shift']());}}}(_0x16dd,0x6e7bc));var __decorate=this&&this[_0x483a28(0xb3)]||function(_0x8ad05b,_0x200ba7,_0xa07b3d,_0x2500b5){const _0x521933=_0x483a28;var _0x39b34c=arguments[_0x521933(0x78)],_0x1cdee5=_0x39b34c<0x3?_0x200ba7:_0x2500b5===null?_0x2500b5=Object['getOwnPropertyDescriptor'](_0x200ba7,_0xa07b3d):_0x2500b5,_0x51f54c;if(typeof Reflect===_0x521933(0x8e)&&typeof Reflect['decorate']===_0x521933(0xbe))_0x1cdee5=Reflect[_0x521933(0x9c)](_0x8ad05b,_0x200ba7,_0xa07b3d,_0x2500b5);else{for(var _0x13f514=_0x8ad05b[_0x521933(0x78)]-0x1;_0x13f514>=0x0;_0x13f514--)if(_0x51f54c=_0x8ad05b[_0x13f514])_0x1cdee5=(_0x39b34c<0x3?_0x51f54c(_0x1cdee5):_0x39b34c>0x3?_0x51f54c(_0x200ba7,_0xa07b3d,_0x1cdee5):_0x51f54c(_0x200ba7,_0xa07b3d))||_0x1cdee5;}return _0x39b34c>0x3&&_0x1cdee5&&Object[_0x521933(0x77)](_0x200ba7,_0xa07b3d,_0x1cdee5),_0x1cdee5;},__metadata=this&&this['__metadata']||function(_0x43b080,_0xe7dac5){const _0x19b49d=_0x483a28;if(typeof Reflect===_0x19b49d(0x8e)&&typeof Reflect[_0x19b49d(0xc4)]==='function')return Reflect[_0x19b49d(0xc4)](_0x43b080,_0xe7dac5);};function _0x5bf1(_0x506beb,_0xcf89ec){const _0x16ddb7=_0x16dd();return _0x5bf1=function(_0x5bf104,_0x4f9ae2){_0x5bf104=_0x5bf104-0x68;let _0x52a73c=_0x16ddb7[_0x5bf104];return _0x52a73c;},_0x5bf1(_0x506beb,_0xcf89ec);}Object[_0x483a28(0x77)](exports,_0x483a28(0x91),{'value':!![]}),exports[_0x483a28(0xa2)]=void 0x0;const common_1=require(_0x483a28(0xbc)),typeorm_1=require(_0x483a28(0xa1)),bcrypt=require(_0x483a28(0x88));let DatabaseService=class DatabaseService{constructor(_0x44b2fb){const _0x17024e=_0x483a28;this[_0x17024e(0xc8)]=_0x44b2fb;}async[_0x483a28(0x72)](){const _0xe2e069=_0x483a28;await this[_0xe2e069(0xbb)](),await this[_0xe2e069(0xb4)]();}async[_0x483a28(0xbb)](){const _0x1eb580=_0x483a28,_0x4c25d9=await this[_0x1eb580(0xc8)]['query'](_0x1eb580(0x83));if(!_0x4c25d9||_0x4c25d9[_0x1eb580(0x78)]===0x0){const _0xb2cbbb=bcrypt[_0x1eb580(0x6d)](_0x1eb580(0x9a),0xa),_0x4d94e9=bcrypt[_0x1eb580(0x6d)]('rocket-admin',0xa),_0x1f655d=_0x1eb580(0x9e),_0x1294a4='defaultAdmin@cooper.com',_0x48c504={'username':_0x1eb580(0xc1),'password':_0xb2cbbb,'status':0x1,'email':_0x1f655d,'sex':0x1,'role':_0x1eb580(0x92)},_0x1ced89={'username':_0x1eb580(0xab),'password':_0x4d94e9,'status':0x1,'email':_0x1294a4,'sex':0x1,'role':'admin'};await this[_0x1eb580(0x6c)](_0x48c504),await this[_0x1eb580(0x6c)](_0x1ced89);}}async[_0x483a28(0x6c)](_0x4f46c8){const _0x312c5d=_0x483a28;try{const {username:_0x1e5785,password:_0x221593,status:_0x2a7d9d,email:_0xab4521,role:_0x229be9}=_0x4f46c8,_0x45f48f=await this['connection'][_0x312c5d(0xad)](_0x312c5d(0xc7)+_0x1e5785+_0x312c5d(0x71)+_0x221593+'\x27,\x20\x27'+_0x2a7d9d+_0x312c5d(0x71)+_0xab4521+_0x312c5d(0x71)+_0x229be9+'\x27)'),_0x3e3dd8=_0x45f48f['insertId'],_0x1e16fd=await this[_0x312c5d(0xc8)][_0x312c5d(0xad)](_0x312c5d(0x6a)+_0x3e3dd8+_0x312c5d(0xb2));common_1[_0x312c5d(0x68)][_0x312c5d(0x6f)](_0x312c5d(0xc0)+_0x229be9+_0x312c5d(0xb1)+_0x1e5785+_0x312c5d(0x9d)+(_0x1e5785==='rocket'?_0x312c5d(0x9a):'rocket-admin')+']\x20==============>\x20请注意查阅',_0x312c5d(0xa2));}catch(_0x254093){console[_0x312c5d(0x6f)](_0x312c5d(0x79),_0x254093);throw new common_1[(_0x312c5d(0x94))](_0x312c5d(0x98),common_1[_0x312c5d(0x97)][_0x312c5d(0x75)]);}}async[_0x483a28(0xb4)](){const _0x2cb4b8=_0x483a28,_0xcd10b7=[_0x2cb4b8(0x8d),_0x2cb4b8(0x76),_0x2cb4b8(0xc6),_0x2cb4b8(0x7b),_0x2cb4b8(0xbf)],_0x42c24c=await this[_0x2cb4b8(0xc8)][_0x2cb4b8(0xad)](_0x2cb4b8(0xb5)+_0xcd10b7[_0x2cb4b8(0x85)](_0x38cda5=>'\x27'+_0x38cda5+'\x27')[_0x2cb4b8(0xac)](',')+')\x0a'),_0x19884a=parseInt(_0x42c24c[0x0][_0x2cb4b8(0xc3)]);_0x19884a===0x0&&await this[_0x2cb4b8(0x7e)]();}async[_0x483a28(0x7e)](){const _0x2e8393=_0x483a28;try{const _0x4f4b39='<script>var\x20_hmt\x20=\x20_hmt\x20||\x20[];(function()\x20{\x20var\x20hm\x20=\x20document.createElement(\x22script\x22);\x20hm.src\x20=\x20\x22https://hm.baidu.com/hm.js?cb8c9a3bcadbc200e950b05f9c61a385\x22;\x20var\x20s\x20=\x20document.getElementsByTagName(\x22script\x22)[0];\x20s.parentNode.insertBefore(hm,\x20s);\x20})();</script>',_0x596562=_0x2e8393(0xa3),_0x17392d=[{'configKey':_0x2e8393(0x8d),'configVal':_0x2e8393(0xa6),'public':0x1,'encry':0x0},{'configKey':_0x2e8393(0x76),'configVal':'','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0xc6),'configVal':'','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0x7b),'configVal':'','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0xbf),'configVal':_0x2e8393(0xaa),'public':0x0,'encry':0x0},{'configKey':_0x2e8393(0x8a),'configVal':_0x4f4b39,'public':0x1,'encry':0x0},{'configKey':_0x2e8393(0xc9),'configVal':_0x2e8393(0xb8),'public':0x0,'encry':0x0},{'configKey':'baiduToken','configVal':_0x2e8393(0xae),'public':0x0,'encry':0x0},{'configKey':_0x2e8393(0x7d),'configVal':'','public':0x1,'encry':0x0},{'configKey':'openaiBaseUrl','configVal':_0x2e8393(0x80),'public':0x0,'encry':0x0},{'configKey':_0x2e8393(0x74),'configVal':_0x596562,'public':0x1,'encry':0x0},{'configKey':'registerVerifyEmailTitle','configVal':_0x2e8393(0x96),'public':0x0,'encry':0x0},{'configKey':'registerVerifyEmailDesc','configVal':_0x2e8393(0x87),'public':0x0,'encry':0x0},{'configKey':'registerVerifyEmailFrom','configVal':_0x2e8393(0xa7),'public':0x0,'encry':0x0},{'configKey':'registerVerifyExpir','configVal':_0x2e8393(0x84),'public':0x0,'encry':0x0},{'configKey':_0x2e8393(0x99),'configVal':_0x2e8393(0xc2),'public':0x0,'encry':0x0},{'configKey':_0x2e8393(0xb7),'configVal':_0x2e8393(0xa7),'public':0x0,'encry':0x0},{'configKey':_0x2e8393(0x69),'configVal':',请妥善保管您的账号，我们将为您赠送50次对话额度和5次绘画额度、祝您使用愉快','public':0x0,'encry':0x0},{'configKey':'registerFailEmailTitle','configVal':_0x2e8393(0x73),'public':0x0,'encry':0x0},{'configKey':_0x2e8393(0x7c),'configVal':_0x2e8393(0xa7),'public':0x0,'encry':0x0},{'configKey':_0x2e8393(0x6e),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0x9f),'configVal':'30','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0x70),'configVal':'3','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0xa8),'configVal':'3','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0x8f),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0xbd),'configVal':_0x2e8393(0x8c),'public':0x1,'encry':0x0},{'configKey':_0x2e8393(0x9b),'configVal':'20','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0xaf),'configVal':'2','public':0x1,'encry':0x0},{'configKey':'firstRregisterSendDrawMjCount','configVal':'3','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0x81),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0x6b),'configVal':'30','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0xa9),'configVal':'3','public':0x1,'encry':0x0},{'configKey':'inviteGiveSendDrawMjCount','configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0xb6),'configVal':'10','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0x93),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0x95),'configVal':'1','public':0x1,'encry':0x0},{'configKey':_0x2e8393(0x90),'configVal':'1','public':0x1,'encry':0x0}],_0x519bfc=await this[_0x2e8393(0xc8)][_0x2e8393(0xad)](_0x2e8393(0x82)+_0x17392d[_0x2e8393(0x85)](_0x57086a=>'(\x27'+_0x57086a[_0x2e8393(0x89)]+_0x2e8393(0x71)+_0x57086a['configVal']['replace'](/'/g,'\x5c\x27')+'\x27,\x20\x27'+_0x57086a['public']+_0x2e8393(0x71)+_0x57086a['encry']+'\x27)')[_0x2e8393(0xac)](',\x20'));common_1[_0x2e8393(0x68)][_0x2e8393(0x6f)]('初始化网站配置信息成功、如您需要修改网站配置信息，请前往管理系统系统配置设置\x20==============>\x20请注意查阅',_0x2e8393(0xa2));}catch(_0x267c46){console[_0x2e8393(0x6f)](_0x2e8393(0x79),_0x267c46);throw new common_1[(_0x2e8393(0x94))](_0x2e8393(0xa4),common_1[_0x2e8393(0x97)][_0x2e8393(0x75)]);}}};DatabaseService=__decorate([(0x0,common_1['Injectable'])(),__metadata(_0x483a28(0x86),[typeorm_1[_0x483a28(0xc5)]])],DatabaseService),exports['DatabaseService']=DatabaseService;