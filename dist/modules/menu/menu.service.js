'use strict';const _0x54dbcc=_0x1869;function _0x6fde(){const _0x4d0385=['965781FgUacD','255215ZvVoIj','Share','推广计划','initMenu','tabler:category','Discover','6027762oqwqyd','__param','solar:user-bold-duotone','Chat','/share','@nestjs/common','13830542QUTJTR','/pay','操作菜单失败!','solar:bookmark-opened-bold-duotone','3272301DBDufY','menuListFront','visibleMenu','delete','save','count','defineProperty','146hKaYsE','menuIframeUrl','tabler:shopping-bag','BAD_REQUEST','/gallery','tabler:user-circle','1648633XhgXky','delMenu','object','tabler:brush','tabler:message-2','HttpException','solar:magic-stick-3-bold-duotone','思维导图','solar:music-note-bold-duotone','solar:bag-5-bold-duotone','16efCMPh','find','getOwnPropertyDescriptor','/user-center','InjectRepository','/chat','Gallery','AppStore','tabler:music','90GtfboB','UserCenter','ASC','15485ypRvxh','MenuEntity','/app-store','setToolboxMenu','menuPlatform','Pay','./menu.entity','update','/aiMusic','Mind','decorate','MenuService','__esModule','Midjourney','onModuleInit','findOne','会员中心','/discover','/midjourney','solar:hand-stars-bold-duotone','metadata','tabler:photo-hexagon','solar:compass-bold-duotone','HttpStatus','缺失必要参数!','function','isSystem','length','tabler:load-balancer','__metadata','92eaIFpA','menuEntity','affected','updateIcon'];_0x6fde=function(){return _0x4d0385;};return _0x6fde();}(function(_0x79a2ad,_0x478fb1){const _0x9ac1b=_0x1869,_0x42eaf0=_0x79a2ad();while(!![]){try{const _0xbd4c8f=-parseInt(_0x9ac1b(0xfe))/0x1*(-parseInt(_0x9ac1b(0x138))/0x2)+-parseInt(_0x9ac1b(0x131))/0x3+parseInt(_0x9ac1b(0x11c))/0x4*(-parseInt(_0x9ac1b(0x121))/0x5)+parseInt(_0x9ac1b(0x127))/0x6+-parseInt(_0x9ac1b(0x13e))/0x7*(-parseInt(_0x9ac1b(0x148))/0x8)+parseInt(_0x9ac1b(0x120))/0x9*(-parseInt(_0x9ac1b(0x151))/0xa)+parseInt(_0x9ac1b(0x12d))/0xb;if(_0xbd4c8f===_0x478fb1)break;else _0x42eaf0['push'](_0x42eaf0['shift']());}catch(_0x301fdd){_0x42eaf0['push'](_0x42eaf0['shift']());}}}(_0x6fde,0x9a817));var __decorate=this&&this['__decorate']||function(_0x528499,_0x2b9612,_0x20e602,_0x1fd0f2){const _0x22836b=_0x1869;var _0x2e8bbc=arguments['length'],_0x43f5f2=_0x2e8bbc<0x3?_0x2b9612:_0x1fd0f2===null?_0x1fd0f2=Object[_0x22836b(0x14a)](_0x2b9612,_0x20e602):_0x1fd0f2,_0x24f634;if(typeof Reflect===_0x22836b(0x140)&&typeof Reflect[_0x22836b(0x108)]==='function')_0x43f5f2=Reflect['decorate'](_0x528499,_0x2b9612,_0x20e602,_0x1fd0f2);else{for(var _0x30b34e=_0x528499[_0x22836b(0x119)]-0x1;_0x30b34e>=0x0;_0x30b34e--)if(_0x24f634=_0x528499[_0x30b34e])_0x43f5f2=(_0x2e8bbc<0x3?_0x24f634(_0x43f5f2):_0x2e8bbc>0x3?_0x24f634(_0x2b9612,_0x20e602,_0x43f5f2):_0x24f634(_0x2b9612,_0x20e602))||_0x43f5f2;}return _0x2e8bbc>0x3&&_0x43f5f2&&Object[_0x22836b(0x137)](_0x2b9612,_0x20e602,_0x43f5f2),_0x43f5f2;},__metadata=this&&this[_0x54dbcc(0x11b)]||function(_0x46bd2b,_0xad1364){const _0x4db037=_0x54dbcc;if(typeof Reflect===_0x4db037(0x140)&&typeof Reflect[_0x4db037(0x112)]===_0x4db037(0x117))return Reflect['metadata'](_0x46bd2b,_0xad1364);},__param=this&&this[_0x54dbcc(0x128)]||function(_0x3f5135,_0x269947){return function(_0x28e74d,_0xe36bd5){_0x269947(_0x28e74d,_0xe36bd5,_0x3f5135);};};Object['defineProperty'](exports,_0x54dbcc(0x10a),{'value':!![]}),exports['MenuService']=void 0x0;const common_1=require(_0x54dbcc(0x12c)),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require('typeorm'),menu_entity_1=require(_0x54dbcc(0x104));let MenuService=class MenuService{constructor(_0x2a8dca){const _0x5c56f0=_0x54dbcc;this[_0x5c56f0(0x11d)]=_0x2a8dca;}async[_0x54dbcc(0x10c)](){const _0x100b1a=_0x54dbcc;await this[_0x100b1a(0x124)]();}async[_0x54dbcc(0x124)](){const _0x102a2e=_0x54dbcc,_0x8887c8=await this[_0x102a2e(0x11d)][_0x102a2e(0x136)]();if(_0x8887c8>0x0)return;const _0x3f1315=[{'menuTipText':'对话','menuIcon':_0x102a2e(0x142),'menuName':_0x102a2e(0x12a),'menuPath':_0x102a2e(0x14d),'menuType':0x0,'menuPlatform':0x1,'order':0x1},{'menuTipText':'应用','menuIcon':_0x102a2e(0x125),'menuName':_0x102a2e(0x14f),'menuPath':'/app-store','menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':'思维导图','menuIcon':_0x102a2e(0x11a),'menuName':_0x102a2e(0x107),'menuPath':'/mind','menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0x102a2e(0x10e),'menuIcon':_0x102a2e(0x13a),'menuName':_0x102a2e(0x103),'menuPath':_0x102a2e(0x12e),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':_0x102a2e(0x123),'menuIcon':'tabler:award','menuName':_0x102a2e(0x122),'menuPath':_0x102a2e(0x12b),'menuType':0x0,'menuPlatform':0x1,'order':0x320},{'menuTipText':'画廊','menuIcon':_0x102a2e(0x113),'menuName':_0x102a2e(0x14e),'menuPath':_0x102a2e(0x13c),'menuType':0x0,'menuPlatform':0x1,'order':0x65},{'menuTipText':'音乐','menuIcon':_0x102a2e(0x150),'menuName':'AIMusic','menuPath':_0x102a2e(0x106),'menuType':0x0,'menuPlatform':0x1,'order':0x66},{'menuTipText':'绘画','menuIcon':_0x102a2e(0x141),'menuName':'Midjourney','menuPath':_0x102a2e(0x110),'menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':'我的','menuIcon':_0x102a2e(0x13d),'menuName':_0x102a2e(0x152),'menuPath':_0x102a2e(0x14b),'menuType':0x0,'menuPlatform':0x1,'order':0x3e8}],_0x599900=[{'menuTipText':'对话','menuIcon':'solar:chat-line-bold-duotone','menuName':_0x102a2e(0x12a),'menuPath':'/chat','menuType':0x0,'menuPlatform':0x0,'order':0x1},{'menuTipText':'音乐','menuIcon':_0x102a2e(0x146),'menuName':'AiMusic','menuPath':_0x102a2e(0x106),'menuType':0x0,'menuPlatform':0x0,'order':0x4},{'menuTipText':'我的','menuIcon':_0x102a2e(0x129),'menuName':'UserCenter','menuPath':'/user-center','menuType':0x0,'menuPlatform':0x0,'order':0x6},{'menuTipText':'应用','menuIcon':_0x102a2e(0x130),'menuName':_0x102a2e(0x14f),'menuPath':_0x102a2e(0x100),'menuType':0x0,'menuPlatform':0x0,'order':0x3},{'menuTipText':'发现','menuIcon':_0x102a2e(0x114),'menuName':_0x102a2e(0x126),'menuPath':_0x102a2e(0x10f),'menuType':0x0,'menuPlatform':0x0,'order':0x5},{'menuTipText':_0x102a2e(0x10e),'menuIcon':_0x102a2e(0x147),'menuName':'Pay','menuPath':'/pay','menuType':0x0,'menuPlatform':0x0,'order':0x7},{'menuTipText':'推广计划','menuIcon':_0x102a2e(0x111),'menuName':_0x102a2e(0x122),'menuPath':'/share','menuType':0x0,'menuPlatform':0x0,'order':0x8},{'menuTipText':'绘画','menuIcon':_0x102a2e(0x144),'menuName':_0x102a2e(0x10b),'menuPath':'/midjourney','menuType':0x1,'menuPlatform':0x0,'order':0x2},{'menuTipText':_0x102a2e(0x145),'menuIcon':'solar:atom-bold-duotone','menuName':'Mind','menuPath':'/mind','menuType':0x1,'menuPlatform':0x0,'order':0x9},{'menuTipText':'画廊','menuIcon':_0x102a2e(0x113),'menuName':_0x102a2e(0x14e),'menuPath':_0x102a2e(0x13c),'menuType':0x1,'menuPlatform':0x0,'order':0xa}],_0xec59a5=[..._0x3f1315,..._0x599900];await this['menuEntity'][_0x102a2e(0x135)](_0xec59a5);}async['queryMenu'](_0x55da62){const _0x1e66c=_0x54dbcc,{menuPlatform:_0x2fefc4}=_0x55da62,_0x313470={};return _0x2fefc4&&(_0x313470[_0x1e66c(0x102)]=_0x2fefc4),await this['menuEntity'][_0x1e66c(0x149)]({'where':_0x313470,'order':{'order':_0x1e66c(0xfd)}});}async[_0x54dbcc(0x132)](_0x36b9f2){const _0x4f7f55=_0x54dbcc,{menuPlatform:_0x5040ab}=_0x36b9f2,_0x4d030e={'isShow':!![]};return _0x5040ab&&(_0x4d030e[_0x4f7f55(0x102)]=_0x5040ab),await this[_0x4f7f55(0x11d)][_0x4f7f55(0x149)]({'where':_0x4d030e,'order':{'order':'ASC'}});}async[_0x54dbcc(0x133)](_0x351bf5){const _0x5fb084=_0x54dbcc,{id:_0xac4183}=_0x351bf5;if(!_0xac4183)return;const _0x5bc639=await this['menuEntity']['findOne']({'where':{'id':_0xac4183}});if(!_0x5bc639)return;const {isShow:_0x1b818d}=_0x5bc639,_0x544610=await this['menuEntity'][_0x5fb084(0x105)]({'id':_0xac4183},{'isShow':!_0x1b818d});return _0x544610[_0x5fb084(0x11e)]>0x0;}async[_0x54dbcc(0x101)](_0x387f9f){const _0x4c30af=_0x54dbcc,{id:_0x27803b}=_0x387f9f;if(!_0x27803b)return;const _0x57b632=await this[_0x4c30af(0x11d)][_0x4c30af(0x10d)]({'where':{'id':_0x27803b}});if(!_0x57b632)return;const {isToolbox:_0x5ded17}=_0x57b632,_0x3105bf=await this[_0x4c30af(0x11d)][_0x4c30af(0x105)]({'id':_0x27803b},{'isToolbox':!_0x5ded17});return _0x3105bf[_0x4c30af(0x11e)]>0x0;}async['setToolTop'](_0x248466){const _0x300990=_0x54dbcc,{id:_0xab014a}=_0x248466;if(!_0xab014a)return;const _0x5e07e3=await this[_0x300990(0x11d)]['findOne']({'where':{'id':_0xab014a}});if(!_0x5e07e3)return;const {isToolTop:_0x2f5a7c}=_0x5e07e3,_0x46631d=await this['menuEntity'][_0x300990(0x105)]({'id':_0xab014a},{'isToolTop':!_0x2f5a7c});return _0x46631d[_0x300990(0x11e)]>0x0;}async['setMenu'](_0x392cd5){const _0x32068d=_0x54dbcc,{id:_0x1930c1}=_0x392cd5;_0x392cd5[_0x32068d(0x118)]?_0x392cd5['menuPath']='':_0x392cd5[_0x32068d(0x139)]='';delete _0x392cd5[_0x32068d(0x118)];try{if(_0x1930c1){const _0x4a94a5=await this[_0x32068d(0x11d)][_0x32068d(0x105)]({'id':_0x1930c1},_0x392cd5);return _0x4a94a5[_0x32068d(0x11e)]>0x0;}else{const _0x9ed2c1=await this['menuEntity'][_0x32068d(0x135)](_0x392cd5);return _0x9ed2c1;}}catch(_0x1313e9){throw new common_1['HttpException'](_0x32068d(0x12f),common_1[_0x32068d(0x115)][_0x32068d(0x13b)]);}}async[_0x54dbcc(0x13f)](_0x47b602){const _0x3f5cb3=_0x54dbcc,{id:_0x37274a}=_0x47b602;if(!_0x37274a)throw new common_1['HttpException'](_0x3f5cb3(0x116),common_1[_0x3f5cb3(0x115)]['BAD_REQUEST']);const _0x4d172f=await this[_0x3f5cb3(0x11d)][_0x3f5cb3(0x134)]({'id':_0x37274a});return _0x4d172f;}async[_0x54dbcc(0x11f)](_0x19173d){const _0x11b075=_0x54dbcc,{id:_0x4e131e,menuIcon:_0x3391ef,menuTipText:_0x5549ad,order:_0x2c2452}=_0x19173d;if(!_0x4e131e||!_0x3391ef||!_0x5549ad||!_0x2c2452)throw new common_1[(_0x11b075(0x143))](_0x11b075(0x116),common_1[_0x11b075(0x115)][_0x11b075(0x13b)]);const _0x32d498=await this[_0x11b075(0x11d)][_0x11b075(0x105)]({'id':_0x4e131e},{'menuIcon':_0x3391ef,'menuTipText':_0x5549ad,'order':_0x2c2452});return _0x32d498[_0x11b075(0x11e)]>0x0;}};function _0x1869(_0x403302,_0x24bc46){const _0x6fde75=_0x6fde();return _0x1869=function(_0x1869d3,_0x181968){_0x1869d3=_0x1869d3-0xfd;let _0x1a3d53=_0x6fde75[_0x1869d3];return _0x1a3d53;},_0x1869(_0x403302,_0x24bc46);}MenuService=__decorate([(0x0,common_1['Injectable'])(),__param(0x0,(0x0,typeorm_1[_0x54dbcc(0x14c)])(menu_entity_1[_0x54dbcc(0xff)])),__metadata('design:paramtypes',[typeorm_2['Repository']])],MenuService),exports[_0x54dbcc(0x109)]=MenuService;